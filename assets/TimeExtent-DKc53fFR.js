import{cA as h,cs as A,cB as S,cC as $,P as N,X as o,Z as c,a1 as w,a0 as f,a2 as x}from"./index-BdXiYUWp.js";const g={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function p(e,t,n,s=h){const r=new A(S(s)),i=$.fromJSDate(e,{zone:r}),l=n==="decades"||n==="centuries"?"year":v(n);return n==="decades"&&(t*=10),n==="centuries"&&(t*=100),i.plus({[l]:t}).toJSDate()}function k(e,t,n="milliseconds"){const s=e.getTime(),r=J(t,n,"milliseconds");return new Date(s+r)}function D(e,t,n=h){const s=new A(S(n)),r=$.fromJSDate(e,{zone:s});if(t==="decades"||t==="centuries"){const l=r.startOf("year"),{year:d}=l,m=d-d%(t==="decades"?10:100);return l.set({year:m}).toJSDate()}const i=v(t);return r.startOf(i).toJSDate()}function J(e,t,n){return e===0?0:e*g[t]/g[n]}function v(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var u;let a=u=class extends N{static get allTime(){return E}static get empty(){return j}static fromArray(e){return new u({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=(e==null?void 0:e.getTime())??null}get isAllTime(){return this.equals(u.allTime)}get isEmpty(){return this.equals(u.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=(e==null?void 0:e.getTime())??null}clone(){return new u({end:this.end,start:this.start})}equals(e){var i,l,d,m;if(!e)return!1;const t=((i=this.start)==null?void 0:i.getTime())??this.start,n=((l=this.end)==null?void 0:l.getTime())??this.end,s=((d=e.start)==null?void 0:d.getTime())??e.start,r=((m=e.end)==null?void 0:m.getTime())??e.end;return t===s&&n===r}expandTo(e,t=h){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=D(n,e,t));let s=this.end;if(s){const r=D(s,e,t);s=s.getTime()===r.getTime()?r:p(r,1,e,t)}return new u({start:n,end:s})}intersection(e){var d,m,y,T;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return u.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=((d=this.start)==null?void 0:d.getTime())??-1/0,n=((m=this.end)==null?void 0:m.getTime())??1/0,s=((y=e.start)==null?void 0:y.getTime())??-1/0,r=((T=e.end)==null?void 0:T.getTime())??1/0;let i,l;return s>=t&&s<=n?i=s:t>=s&&t<=r&&(i=t),n>=s&&n<=r?l=n:r>=t&&r<=n&&(l=r),i==null||l==null||isNaN(i)||isNaN(l)?u.empty:new u({start:i===-1/0?null:new Date(i),end:l===1/0?null:new Date(l)})}offset(e,t,n=h){if(this.isEmpty||this.isAllTime)return this.clone();const s=new u,{start:r,end:i}=this;return r!=null&&(s.start=p(r,e,t,n)),i!=null&&(s.end=p(i,e,t,n)),s}toArray(){var e,t;return this.isEmpty?[void 0,void 0]:[((e=this.start)==null?void 0:e.getTime())??null,((t=this.end)==null?void 0:t.getTime())??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return E.clone();const t=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,n=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new u({start:t,end:n})}};o([c({type:Date,json:{write:{allowNull:!0}}})],a.prototype,"end",void 0),o([w("end")],a.prototype,"readEnd",null),o([f("end")],a.prototype,"writeEnd",null),o([c({readOnly:!0,json:{read:!1}})],a.prototype,"isAllTime",null),o([c({readOnly:!0,json:{read:!1}})],a.prototype,"isEmpty",null),o([c({type:Date,json:{write:{allowNull:!0}}})],a.prototype,"start",void 0),o([w("start")],a.prototype,"readStart",null),o([f("start")],a.prototype,"writeStart",null),a=u=o([x("esri.time.TimeExtent")],a);const q=a,E=new a,j=new a({start:void 0,end:void 0});export{k as i,J as m,q as p,g as r};
