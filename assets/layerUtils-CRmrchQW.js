import{U as u,k as o}from"./index-BdXiYUWp.js";const g={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function d(e){const t=e==null?void 0:e.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function p(e){var t;return(e==null?void 0:e.type)==="feature"&&!e.url&&((t=e.source)==null?void 0:t.type)==="memory"}function b(e){var n;const t=e==null?void 0:e.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&((n=e.source)==null?void 0:n.type)==="feature-layer"}async function m(e,t){var a;const n=(a=o)==null?void 0:a.findServerInfo(e);if((n==null?void 0:n.currentVersion)!=null)return n.owningSystemUrl||null;const s=e.toLowerCase().indexOf("/rest/services");if(s===-1)return null;const i=`${e.slice(0,s)}/rest/info`,c=t!=null?t.signal:null,{data:r}=await u(i,{query:{f:"json"},responseType:"json",signal:c});return(r==null?void 0:r.owningSystemUrl)||null}function l(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function w(e){return l(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function f(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function v(e){return!!f(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}export{v as B,b as L,w as O,d as b,g,p as w,m as x};
