import{bS as h,ar as x}from"./index-BdXiYUWp.js";async function F(e,s=e.popupTemplate){var a,o;if(s==null)return[];const u=await s.getRequiredFields(e.fieldsIndex),{lastEditInfoEnabled:f}=s,{objectIdField:d,typeIdField:n,globalIdField:i,relationships:p}=e;if(u.includes("*"))return["*"];const c=f?h(e):[],l=x(e.fieldsIndex,[...u,...c]);return n&&l.push(n),l&&d&&((a=e.fieldsIndex)!=null&&a.has(d))&&!l.includes(d)&&l.push(d),l&&i&&((o=e.fieldsIndex)!=null&&o.has(i))&&!l.includes(i)&&l.push(i),p&&p.forEach(I=>{var r;const{keyField:t}=I;l&&t&&((r=e.fieldsIndex)!=null&&r.has(t))&&!l.includes(t)&&l.push(t)}),l}function b(e,s){return e.popupTemplate?e.popupTemplate:null}export{F as n,b as p};
