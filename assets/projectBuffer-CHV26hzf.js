import{ao as O,dx as K,dy as q,aj as RE,cd as uE,dz as lE,bi as aE,bQ as _E,dA as AE,b0 as PE,dB as eE,b1 as rE,b2 as OE,c_ as NE,c$ as sE,bC as ME,bZ as iE,d3 as cE,dC as LE}from"./index-BdXiYUWp.js";const M=O.radius,r=O.eccentricitySquared,oE={a1:M*r,a2:M*r*M*r,a3:M*r*r/2,a4:M*r*M*r*2.5,a5:M*r+M*r*r/2,a6:1-r};O.radius,O.flattening,q.radius,q.flattening,K.radius,K.flattening,K.radius;var E;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",n[n.WGS84=2]="WGS84",n[n.WEB_MERCATOR=3]="WEB_MERCATOR",n[n.WGS84_ECEF=4]="WGS84_ECEF",n[n.CGCS2000=5]="CGCS2000",n[n.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",n[n.GCSMARS2000=7]="GCSMARS2000",n[n.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",n[n.GCSMOON2000=9]="GCSMOON2000",n[n.LON_LAT=10]="LON_LAT",n[n.PLATE_CARREE=11]="PLATE_CARREE"})(E||(E={}));const GE={[E.WGS84]:{[E.CGCS2000]:l,[E.GCSMARS2000]:null,[E.GCSMOON2000]:null,[E.LON_LAT]:l,[E.SPHERICAL_ECEF]:b,[E.SPHERICAL_MARS_PCPF]:null,[E.SPHERICAL_MOON_PCPF]:null,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:W,[E.PLATE_CARREE]:I,[E.WGS84]:l,[E.WGS84_ECEF]:H},[E.CGCS2000]:{[E.CGCS2000]:l,[E.GCSMARS2000]:null,[E.GCSMOON2000]:null,[E.LON_LAT]:l,[E.SPHERICAL_ECEF]:b,[E.SPHERICAL_MARS_PCPF]:null,[E.SPHERICAL_MOON_PCPF]:null,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:W,[E.PLATE_CARREE]:I,[E.WGS84]:l,[E.WGS84_ECEF]:H},[E.GCSMARS2000]:{[E.CGCS2000]:null,[E.GCSMARS2000]:l,[E.GCSMOON2000]:null,[E.LON_LAT]:l,[E.SPHERICAL_ECEF]:null,[E.SPHERICAL_MARS_PCPF]:Y,[E.SPHERICAL_MOON_PCPF]:null,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:null,[E.PLATE_CARREE]:null,[E.WGS84]:null,[E.WGS84_ECEF]:null},[E.GCSMOON2000]:{[E.CGCS2000]:null,[E.GCSMARS2000]:null,[E.GCSMOON2000]:l,[E.LON_LAT]:l,[E.SPHERICAL_ECEF]:null,[E.SPHERICAL_MARS_PCPF]:null,[E.SPHERICAL_MOON_PCPF]:X,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:null,[E.PLATE_CARREE]:null,[E.WGS84]:null,[E.WGS84_ECEF]:null},[E.WEB_MERCATOR]:{[E.CGCS2000]:B,[E.GCSMARS2000]:null,[E.GCSMOON2000]:null,[E.LON_LAT]:B,[E.SPHERICAL_ECEF]:WE,[E.SPHERICAL_MARS_PCPF]:null,[E.SPHERICAL_MOON_PCPF]:null,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:l,[E.PLATE_CARREE]:dE,[E.WGS84]:B,[E.WGS84_ECEF]:IE},[E.WGS84_ECEF]:{[E.CGCS2000]:T,[E.GCSMARS2000]:null,[E.GCSMOON2000]:null,[E.LON_LAT]:T,[E.SPHERICAL_ECEF]:jE,[E.SPHERICAL_MARS_PCPF]:null,[E.SPHERICAL_MOON_PCPF]:null,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:qE,[E.PLATE_CARREE]:HE,[E.WGS84]:T,[E.WGS84_ECEF]:l},[E.SPHERICAL_ECEF]:{[E.CGCS2000]:d,[E.GCSMARS2000]:null,[E.GCSMOON2000]:null,[E.LON_LAT]:d,[E.SPHERICAL_ECEF]:l,[E.SPHERICAL_MARS_PCPF]:null,[E.SPHERICAL_MOON_PCPF]:null,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:KE,[E.PLATE_CARREE]:TE,[E.WGS84]:d,[E.WGS84_ECEF]:BE},[E.SPHERICAL_MARS_PCPF]:{[E.CGCS2000]:null,[E.GCSMARS2000]:EE,[E.GCSMOON2000]:null,[E.LON_LAT]:EE,[E.SPHERICAL_ECEF]:null,[E.SPHERICAL_MARS_PCPF]:l,[E.SPHERICAL_MOON_PCPF]:null,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:null,[E.PLATE_CARREE]:null,[E.WGS84]:null,[E.WGS84_ECEF]:null},[E.SPHERICAL_MOON_PCPF]:{[E.CGCS2000]:null,[E.GCSMARS2000]:null,[E.GCSMOON2000]:$,[E.LON_LAT]:$,[E.SPHERICAL_ECEF]:null,[E.SPHERICAL_MARS_PCPF]:null,[E.SPHERICAL_MOON_PCPF]:l,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:null,[E.PLATE_CARREE]:null,[E.WGS84]:null,[E.WGS84_ECEF]:null},[E.UNKNOWN]:{[E.CGCS2000]:null,[E.GCSMARS2000]:null,[E.GCSMOON2000]:null,[E.LON_LAT]:null,[E.SPHERICAL_ECEF]:null,[E.SPHERICAL_MARS_PCPF]:null,[E.SPHERICAL_MOON_PCPF]:null,[E.UNKNOWN]:l,[E.WEB_MERCATOR]:null,[E.PLATE_CARREE]:null,[E.WGS84]:null,[E.WGS84_ECEF]:null},[E.LON_LAT]:{[E.CGCS2000]:l,[E.GCSMARS2000]:l,[E.GCSMOON2000]:l,[E.LON_LAT]:l,[E.SPHERICAL_ECEF]:b,[E.SPHERICAL_MARS_PCPF]:Y,[E.SPHERICAL_MOON_PCPF]:X,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:W,[E.PLATE_CARREE]:I,[E.WGS84]:l,[E.WGS84_ECEF]:H},[E.PLATE_CARREE]:{[E.CGCS2000]:F,[E.GCSMARS2000]:null,[E.GCSMOON2000]:null,[E.LON_LAT]:F,[E.SPHERICAL_ECEF]:pE,[E.SPHERICAL_MARS_PCPF]:null,[E.SPHERICAL_MOON_PCPF]:null,[E.UNKNOWN]:null,[E.WEB_MERCATOR]:hE,[E.PLATE_CARREE]:l,[E.WGS84]:F,[E.WGS84_ECEF]:UE}};function fE(n,S,t=CE()){return n==null||S==null?null:mE(n,S,t).projector}function V(n,S){return n?S.spatialReference===n?S.spatialReferenceId:(S.spatialReference=n,"metersPerUnit"in S&&(S.metersPerUnit=uE(n,1)),lE(n)?S.spatialReferenceId=E.SPHERICAL_ECEF:aE(n)?S.spatialReferenceId=E.WGS84:_E(n)?S.spatialReferenceId=E.WEB_MERCATOR:AE(n)?S.spatialReferenceId=E.PLATE_CARREE:n.wkt===PE.wkt?S.spatialReferenceId=E.WGS84_ECEF:n.wkid===eE.CGCS2000?S.spatialReferenceId=E.CGCS2000:n.wkt===rE.wkt?S.spatialReferenceId=E.SPHERICAL_MARS_PCPF:n.wkt===OE.wkt?S.spatialReferenceId=E.SPHERICAL_MOON_PCPF:NE(n)?S.spatialReferenceId=E.GCSMARS2000:sE(n)?S.spatialReferenceId=E.GCSMOON2000:S.spatialReferenceId=E.UNKNOWN):E.UNKNOWN}function l(n,S,t,C){n!==t&&(t[C++]=n[S++],t[C++]=n[S++],t[C]=n[S])}function B(n,S,t,C){t[C]=h*(n[S]/L),t[C+1]=h*(SE-2*Math.atan(Math.exp(-n[S+1]/L))),t[C+2]=n[S+2]}function WE(n,S,t,C){const u=n[S]/L,a=SE-2*Math.atan(Math.exp(-n[S+1]/L)),_=L+n[S+2],R=Math.cos(a)*_;t[C]=Math.cos(u)*R,t[C+1]=Math.sin(u)*R,t[C+2]=Math.sin(a)*_}function IE(n,S,t,C){B(n,S,t,C),H(t,C,t,C)}function FE(n,S,t,C,u){const a=.4999999*m,_=ME(p*n[S+1],-a,a),R=Math.sin(_);t[C++]=p*n[S]*u.radius,t[C++]=u.halfSemiMajorAxis*Math.log((1+R)/(1-R)),t[C]=n[S+2]}function W(n,S,t,C){FE(n,S,t,C,O)}function I(n,S,t,C){t[C]=n[S]*nE,t[C+1]=n[S+1]*nE,t[C+2]=n[S+2]}function F(n,S,t,C){t[C]=n[S]*tE,t[C+1]=n[S+1]*tE,t[C+2]=n[S+2]}function dE(n,S,t,C){B(n,S,t,C),I(t,C,t,C)}function HE(n,S,t,C){T(n,S,t,C),I(t,C,t,C)}function TE(n,S,t,C){d(n,S,t,C),I(t,C,t,C)}function pE(n,S,t,C){F(n,S,t,C),b(t,C,t,C)}function hE(n,S,t,C){F(n,S,t,C),W(t,C,t,C)}function UE(n,S,t,C){F(n,S,t,C),H(t,C,t,C)}function D(n,S,t,C,u){const a=u+n[S+2],_=p*n[S+1],R=p*n[S],A=Math.cos(_)*a;t[C]=Math.cos(R)*A,t[C+1]=Math.sin(R)*A,t[C+2]=Math.sin(_)*a}function X(n,S,t,C){D(n,S,t,C,q.radius)}function Y(n,S,t,C){D(n,S,t,C,K.radius)}function b(n,S,t,C){D(n,S,t,C,O.radius)}function Q(n,S,t,C,u){const a=n[S],_=n[S+1],R=n[S+2],A=Math.sqrt(a*a+_*_+R*R),e=LE(R/(A===0?1:A)),P=Math.atan2(_,a);t[C++]=h*P,t[C++]=h*e,t[C]=A-u}function $(n,S,t,C){Q(n,S,t,C,q.radius)}function EE(n,S,t,C){Q(n,S,t,C,K.radius)}function d(n,S,t,C){Q(n,S,t,C,O.radius)}function KE(n,S,t,C){d(n,S,t,C),W(t,C,t,C)}function BE(n,S,t,C){d(n,S,t,C),H(t,C,t,C)}function bE(n,S,t,C,u){const a=p*n[S],_=p*n[S+1],R=n[S+2],A=Math.sin(_),e=Math.cos(_),P=u.radius/Math.sqrt(1-u.eccentricitySquared*A*A);t[C++]=(P+R)*e*Math.cos(a),t[C++]=(P+R)*e*Math.sin(a),t[C++]=(P*(1-u.eccentricitySquared)+R)*A}function H(n,S,t,C){bE(n,S,t,C,O)}function T(n,S,t,C){const u=oE,a=n[S],_=n[S+1],R=n[S+2];let A,e,P,i,c,g,j,N,s,U,k,w,y,o,G,x,z,v,f,Z,J;A=Math.abs(R),e=a*a+_*_,P=Math.sqrt(e),i=e+R*R,c=Math.sqrt(i),Z=Math.atan2(_,a),g=R*R/i,j=e/i,o=u.a2/c,G=u.a3-u.a4/c,j>.3?(N=A/c*(1+j*(u.a1+o+g*G)/c),f=Math.asin(N),U=N*N,s=Math.sqrt(1-U)):(s=P/c*(1-g*(u.a5-o-j*G)/c),f=Math.acos(s),U=1-s*s,N=Math.sqrt(U)),k=1-O.eccentricitySquared*U,w=O.radius/Math.sqrt(k),y=u.a6*w,o=P-w*s,G=A-y*N,z=s*o+N*G,x=s*G-N*o,v=x/(y/k+z),f+=v,J=z+x*v/2,R<0&&(f=-f),t[C++]=h*Z,t[C++]=h*f,t[C]=J}function jE(n,S,t,C){T(n,S,t,C),b(t,C,t,C)}function qE(n,S,t,C){T(n,S,t,C),W(t,C,t,C)}function mE(n,S,t){if(n==null||S==null||t.source.spatialReference===n&&t.dest.spatialReference===S)return t;const C=V(n,t.source),u=V(S,t.dest);return C===E.UNKNOWN&&u===E.UNKNOWN?RE(n,S)?t.projector=l:t.projector=null:t.projector=GE[C][u],t}function CE(){return{source:{spatialReference:null,spatialReferenceId:E.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:E.UNKNOWN,metersPerUnit:1},projector:l}}const yE={spatialReference:null,spatialReferenceId:E.UNKNOWN},xE={spatialReference:null,spatialReferenceId:E.UNKNOWN},gE=CE(),p=cE(1),h=iE(1),m=Math.PI,SE=.5*m,L=O.radius,nE=L*m/180,tE=180/(L*m);function kE(n,S,t,C,u,a,_=Math.floor(n.length/3)){const R=fE(S,u,gE);if(R==null)return!1;if(R===l){if(n===C&&t===a)return!0;const e=t+3*_;for(let P=t,i=a;P<e;P++,i++)C[i]=n[P];return!0}const A=t+3*_;for(let e=t,P=a;e<A;e+=3,P+=3)R(n,e,C,P);return!0}const zE=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:kE},Symbol.toStringTag,{value:"Module"}));export{gE as E,V as F,fE as G,GE as L,E as N,xE as e,yE as l,kE as n,zE as p};
