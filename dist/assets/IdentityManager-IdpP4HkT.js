const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/calcite-button-Bi98iPhC.js","assets/form-DZBm3byg.js","assets/component-H31KZx_8.js","assets/interactive-DIAV6gOn.js","assets/label-DmrxINrN.js","assets/icon-CVwKqWLU.js","assets/loader-CnW4m0tk.js","assets/index-BdXiYUWp.js","assets/index-DGW5n9KZ.css","assets/uuid-Cl5lrJ4c.js","assets/calcite-dialog-BLRj4iFs.js","assets/openCloseComponent-nrDtTTO9.js","assets/calcite-input-BmOGnFHQ.js","assets/calcite-label-B3EEtl-E.js","assets/calcite-notice-C1ekge2a.js"])))=>i.map(i=>d[i]);
import{cH as as,O as oe,t as ke,g3 as Oe,g4 as Pe,g5 as ls,fX as cs,fZ as Ut,df as us,b6 as tt,b8 as rt,e1 as lr,bx as st,di as ds,eb as fs,aL as yt,cI as hs,g6 as ps,g7 as gs,g8 as Ot,a3 as Pt,fL as vs,g9 as ms,b7 as ys,dm as _s,M as $s,ga as ws,fu as Ae,X as m,Z as y,cn as Ss,a2 as ue,_ as se,P as cr,I as We,dl as ur,bv as pe,bt as ie,s as I,du as bs,bG as B,dc as X,U as F,gb as ge,gc as Ge,cm as Et,gd as ks,dM as Rt,a7 as Ve,aa as As,fr as Is,by as Ts,k as ve,ge as xs}from"./index-BdXiYUWp.js";import{n as Us}from"./uuid-Cl5lrJ4c.js";const dr=()=>ke.getLogger("esri.intl.substitute");function Os(e,t,r={}){const{format:s={}}=r;return as(e,i=>Ps(i,t,s))}function Ps(e,t,r){let s,i;const n=e.indexOf(":");if(n===-1?s=e.trim():(s=e.slice(0,n).trim(),i=e.slice(n+1).trim()),!s)return"";const o=oe(s,t);if(o==null)return"";const a=(i?r==null?void 0:r[i]:null)??(r==null?void 0:r[s]);return a?Es(o,a):i?Rs(o,i):_t(o)}function Es(e,t){switch(t.type){case"date":return Pe(e,t.intlOptions);case"number":return Oe(e,t.intlOptions);default:return dr().warn("missing format descriptor for key {key}"),_t(e)}}function Rs(e,t){switch(t.toLowerCase()){case"dateformat":return Pe(e);case"numberformat":return Oe(e);default:return dr().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?Pe(e):/^numberformat/i.test(t)?Oe(e):_t(e)}}function _t(e){switch(typeof e){case"string":return e;case"number":return Oe(e);case"boolean":return""+e;default:return e instanceof Date?Pe(e):""}}function Cs(e){return typeof e=="string"?document.getElementById(e):e??null}/*!
 * @esri/arcgis-html-sanitizer - v4.1.0 - Tue Dec 03 2024 09:13:28 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ee=function(){return Ee=Object.assign||function(t){for(var r,s=1,i=arguments.length;s<i;s++){r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ee.apply(this,arguments)},it={exports:{}},A={},nt={exports:{}},Q={};function fr(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function Ls(e,t,r){}function Ns(e,t,r){}var Ds=/javascript\s*\:/img;function js(e,t){return Ds.test(t)?"":t}Q.whiteList=fr();Q.getDefaultWhiteList=fr;Q.onAttr=Ls;Q.onIgnoreAttr=Ns;Q.safeAttrValue=js;var Fs={indexOf:function(e,t){var r,s;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,s=e.length;r<s;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var s,i;if(Array.prototype.forEach)return e.forEach(t,r);for(s=0,i=e.length;s<i;s++)t.call(r,e[s],s,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},ne=Fs;function qs(e,t){e=ne.trimRight(e),e[e.length-1]!==";"&&(e+=";");var r=e.length,s=!1,i=0,n=0,o="";function a(){if(!s){var f=ne.trim(e.slice(i,n)),u=f.indexOf(":");if(u!==-1){var d=ne.trim(f.slice(0,u)),h=ne.trim(f.slice(u+1));if(d){var p=t(i,o.length,d,h,f);p&&(o+=p+"; ")}}}i=n+1}for(;n<r;n++){var l=e[n];if(l==="/"&&e[n+1]==="*"){var c=e.indexOf("*/",n+2);if(c===-1)break;n=c+1,i=n+1,s=!1}else l==="("?s=!0:l===")"?s=!1:l===";"?s||a():l===`
`&&a()}return ne.trim(o)}var Ms=qs,me=Q,zs=Ms;function Ct(e){return e==null}function Hs(e){var t={};for(var r in e)t[r]=e[r];return t}function hr(e){e=Hs(e||{}),e.whiteList=e.whiteList||me.whiteList,e.onAttr=e.onAttr||me.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||me.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||me.safeAttrValue,this.options=e}hr.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,s=r.whiteList,i=r.onAttr,n=r.onIgnoreAttr,o=r.safeAttrValue,a=zs(e,function(l,c,f,u,d){var h=s[f],p=!1;if(h===!0?p=h:typeof h=="function"?p=h(u):h instanceof RegExp&&(p=h.test(u)),p!==!0&&(p=!1),u=o(f,u),!!u){var g={position:c,sourcePosition:l,source:d,isWhite:p};if(p){var v=i(f,u,g);return Ct(v)?f+":"+u:v}else{var v=n(f,u,g);if(!Ct(v))return v}}});return a};var Bs=hr;(function(e,t){var r=Q,s=Bs;function i(o,a){var l=new s(a);return l.process(o)}t=e.exports=i,t.FilterCSS=s;for(var n in r)t[n]=r[n]})(nt,nt.exports);var $t=nt.exports,wt={indexOf:function(e,t){var r,s;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,s=e.length;r<s;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var s,i;if(Array.prototype.forEach)return e.forEach(t,r);for(s=0,i=e.length;s<i;s++)t.call(r,e[s],s,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,r=t.exec(e);return r?r.index:-1}},Ws=$t.FilterCSS,Gs=$t.getDefaultWhiteList,Re=wt;function pr(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var gr=new Ws;function Vs(e,t,r){}function Xs(e,t,r){}function Js(e,t,r){}function Qs(e,t,r){}function vr(e){return e.replace(Ks,"&lt;").replace(Zs,"&gt;")}function Ys(e,t,r,s){if(r=Sr(r),t==="href"||t==="src"){if(r=Re.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(t==="background"){if(ye.lastIndex=0,ye.test(r))return""}else if(t==="style"){if(Lt.lastIndex=0,Lt.test(r)||(Nt.lastIndex=0,Nt.test(r)&&(ye.lastIndex=0,ye.test(r))))return"";s!==!1&&(s=s||gr,r=s.process(r))}return r=br(r),r}var Ks=/</g,Zs=/>/g,ei=/"/g,ti=/&quot;/g,ri=/&#([a-zA-Z0-9]*);?/gim,si=/&colon;?/gim,ii=/&newline;?/gim,ye=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Lt=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Nt=/u\s*r\s*l\s*\(.*/gi;function mr(e){return e.replace(ei,"&quot;")}function yr(e){return e.replace(ti,'"')}function _r(e){return e.replace(ri,function(r,s){return s[0]==="x"||s[0]==="X"?String.fromCharCode(parseInt(s.substr(1),16)):String.fromCharCode(parseInt(s,10))})}function $r(e){return e.replace(si,":").replace(ii," ")}function wr(e){for(var t="",r=0,s=e.length;r<s;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return Re.trim(t)}function Sr(e){return e=yr(e),e=_r(e),e=$r(e),e=wr(e),e}function br(e){return e=mr(e),e=vr(e),e}function ni(){return""}function oi(e,t){typeof t!="function"&&(t=function(){});var r=!Array.isArray(e);function s(o){return r?!0:Re.indexOf(e,o)!==-1}var i=[],n=!1;return{onIgnoreTag:function(o,a,l){if(s(o))if(l.isClosing){var c="[/removed]",f=l.position+c.length;return i.push([n!==!1?n:l.position,f]),n=!1,c}else return n||(n=l.position),"[removed]";else return t(o,a,l)},remove:function(o){var a="",l=0;return Re.forEach(i,function(c){a+=o.slice(l,c[0]),l=c[1]}),a+=o.slice(l),a}}}function ai(e){for(var t="",r=0;r<e.length;){var s=e.indexOf("<!--",r);if(s===-1){t+=e.slice(r);break}t+=e.slice(r,s);var i=e.indexOf("-->",s);if(i===-1)break;r=i+3}return t}function li(e){var t=e.split("");return t=t.filter(function(r){var s=r.charCodeAt(0);return s===127?!1:s<=31?s===10||s===13:!0}),t.join("")}A.whiteList=pr();A.getDefaultWhiteList=pr;A.onTag=Vs;A.onIgnoreTag=Xs;A.onTagAttr=Js;A.onIgnoreTagAttr=Qs;A.safeAttrValue=Ys;A.escapeHtml=vr;A.escapeQuote=mr;A.unescapeQuote=yr;A.escapeHtmlEntities=_r;A.escapeDangerHtml5Entities=$r;A.clearNonPrintableCharacter=wr;A.friendlyAttrValue=Sr;A.escapeAttrValue=br;A.onIgnoreTagStripAll=ni;A.StripTagBody=oi;A.stripCommentTag=ai;A.stripBlankChar=li;A.cssFilter=gr;A.getDefaultCSSWhiteList=Gs;var ze={},W=wt;function ci(e){var t=W.spaceIndex(e),r;return t===-1?r=e.slice(1,-1):r=e.slice(1,t+1),r=W.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function ui(e){return e.slice(0,2)==="</"}function di(e,t,r){var s="",i=0,n=!1,o=!1,a=0,l=e.length,c="",f="";e:for(a=0;a<l;a++){var u=e.charAt(a);if(n===!1){if(u==="<"){n=a;continue}}else if(o===!1){if(u==="<"){s+=r(e.slice(i,a)),n=a,i=a;continue}if(u===">"){s+=r(e.slice(i,n)),f=e.slice(n,a+1),c=ci(f),s+=t(n,s.length,c,f,ui(f)),i=a+1,n=!1;continue}if(u==='"'||u==="'")for(var d=1,h=e.charAt(a-d);h.trim()===""||h==="=";){if(h==="="){o=u;continue e}h=e.charAt(a-++d)}}else if(u===o){o=!1;continue}}return i<e.length&&(s+=r(e.substr(i))),s}var fi=/[^a-zA-Z0-9\\_:.-]/gim;function hi(e,t){var r=0,s=0,i=[],n=!1,o=e.length;function a(d,h){if(d=W.trim(d),d=d.replace(fi,"").toLowerCase(),!(d.length<1)){var p=t(d,h||"");p&&i.push(p)}}for(var l=0;l<o;l++){var c=e.charAt(l),f,u;if(n===!1&&c==="="){n=e.slice(r,l),r=l+1,s=e.charAt(r)==='"'||e.charAt(r)==="'"?r:gi(e,l+1);continue}if(n!==!1&&l===s){if(u=e.indexOf(c,l+1),u===-1)break;f=W.trim(e.slice(s+1,u)),a(n,f),n=!1,l=u,r=l+1;continue}if(/\s|\n|\t/.test(c))if(e=e.replace(/\s|\n|\t/g," "),n===!1)if(u=pi(e,l),u===-1){f=W.trim(e.slice(r,l)),a(f),n=!1,r=l+1;continue}else{l=u-1;continue}else if(u=vi(e,l-1),u===-1){f=W.trim(e.slice(r,l)),f=Dt(f),a(n,f),n=!1,r=l+1;continue}else continue}return r<e.length&&(n===!1?a(e.slice(r)):a(n,Dt(W.trim(e.slice(r))))),W.trim(i.join(" "))}function pi(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="="?t:-1}}function gi(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="'"||r==='"'?t:-1}}function vi(e,t){for(;t>0;t--){var r=e[t];if(r!==" ")return r==="="?t:-1}}function mi(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function Dt(e){return mi(e)?e.substr(1,e.length-2):e}ze.parseTag=di;ze.parseAttr=hi;var yi=$t.FilterCSS,N=A,kr=ze,_i=kr.parseTag,$i=kr.parseAttr,Ie=wt;function _e(e){return e==null}function wi(e){var t=Ie.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=Ie.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";return r&&(e=Ie.trim(e.slice(0,-1))),{html:e,closing:r}}function Si(e){var t={};for(var r in e)t[r]=e[r];return t}function bi(e){var t={};for(var r in e)Array.isArray(e[r])?t[r.toLowerCase()]=e[r].map(function(s){return s.toLowerCase()}):t[r.toLowerCase()]=e[r];return t}function Ar(e){e=Si(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=N.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=bi(e.whiteList||e.allowList):e.whiteList=N.whiteList,e.onTag=e.onTag||N.onTag,e.onTagAttr=e.onTagAttr||N.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||N.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||N.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||N.safeAttrValue,e.escapeHtml=e.escapeHtml||N.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new yi(e.css))}Ar.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,s=r.whiteList,i=r.onTag,n=r.onIgnoreTag,o=r.onTagAttr,a=r.onIgnoreTagAttr,l=r.safeAttrValue,c=r.escapeHtml,f=t.cssFilter;r.stripBlankChar&&(e=N.stripBlankChar(e)),r.allowCommentTag||(e=N.stripCommentTag(e));var u=!1;r.stripIgnoreTagBody&&(u=N.StripTagBody(r.stripIgnoreTagBody,n),n=u.onIgnoreTag);var d=_i(e,function(h,p,g,v,_){var w={sourcePosition:h,position:p,isClosing:_,isWhite:Object.prototype.hasOwnProperty.call(s,g)},P=i(g,v,w);if(!_e(P))return P;if(w.isWhite){if(w.isClosing)return"</"+g+">";var K=wi(v),b=s[g],S=$i(K.html,function($,O){var z=Ie.indexOf(b,$)!==-1,H=o(g,$,O,z);return _e(H)?z?(O=l(g,$,O,f),O?$+'="'+O+'"':$):(H=a(g,$,O,z),_e(H)?void 0:H):H});return v="<"+g,S&&(v+=" "+S),K.closing&&(v+=" /"),v+=">",v}else return P=n(g,v,w),_e(P)?c(v):P},c);return u&&(d=u.remove(d)),d};var ki=Ar;(function(e,t){var r=A,s=ze,i=ki;function n(a,l){var c=new i(l);return c.process(a)}t=e.exports=n,t.filterXSS=n,t.FilterXSS=i,function(){for(var a in r)t[a]=r[a];for(var l in s)t[l]=s[l]}();function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=e.exports)})(it,it.exports);var Z=it.exports,Ai=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},Ii=function(){function e(t,r){var s=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=Ee(Ee({},Z.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(n,o,a,l){return n==="a"&&o==="href"||(n==="img"||n==="source")&&o==="src"?s.sanitizeUrl(a):Z.safeAttrValue(n,o,a,l)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var i;t&&!r?i=t:t&&r?(i=Object.create(this.arcgisFilterOptions),i.css={whiteList:this.arcgisCSSWhiteList},Object.keys(t).forEach(function(n){if(n==="whiteList")i.whiteList=s._extendObjectOfArrays([s.arcgisWhiteList,t.whiteList||{}]);else if(n==="css"){var o=t.css.whiteList;o!=null&&t.css instanceof Object&&Object.keys(o).forEach(function(a){return i.css.whiteList[a]=o[a]})}else i[n]=t[n]})):(i=Object.create(this.arcgisFilterOptions),i.whiteList=this.arcgisWhiteList,i.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=i,this._xssFilter=new Z.FilterXSS(i)}return e.prototype.sanitize=function(t,r){switch(r===void 0&&(r={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,r);default:return r.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,r){var s=(r??{}).isProtocolRequired,i=s===void 0?!0:s,n=this._trim(t.substring(0,t.indexOf(":"))),o=t==="/",a=/^#/.test(t),l=n&&this.allowedProtocols.indexOf(n.toLowerCase())>-1;return o||a||l?Z.escapeAttrValue(t):!n&&!i?Z.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,r,s,i){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,r,s,i):Z.safeAttrValue(t,r,s,i)},e.prototype.validate=function(t,r){r===void 0&&(r={});var s=this.sanitize(t,r);return{isValid:t===s,sanitized:s}},e.prototype.encodeHTML=function(t){var r=this;return String(t).replace(/[&<>"'\/]/g,function(s){return r._entityMap[s]})},e.prototype.encodeAttrValue=function(t){var r=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(s,i){return r.test(s)?s:"&#x".concat(Number(t.charCodeAt(i)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var r={};return t.forEach(function(s){Object.keys(s).forEach(function(i){Array.isArray(s[i])&&Array.isArray(r[i])?r[i]=r[i].concat(s[i]):r[i]=s[i]})}),r},e.prototype._iterateOverObject=function(t,r){var s=this;r===void 0&&(r={});try{var i=!1,n=void 0;if(Array.isArray(t))n=t.reduce(function(a,l){var c=s.validate(l,r);return c.isValid?a.concat([l]):(i=!0,a.concat([c.sanitized]))},[]);else if(Ai(t)){var o=Object.keys(t);n=o.reduce(function(a,l){var c=t[l],f=s.validate(c,r);return f.isValid?a[l]=c:(i=!0,a[l]=f.sanitized),a},{})}else return r.allowUndefined&&typeof t>"u"?void 0:null;return i?n:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const He=new Map;function Ir(){He.clear()}function Ti(e){return He.get(e)}function xi(e,t){He.set(e,t)}function Xe(e){He.delete(e)}function Ui(...e){const t=Ut.acquire();for(let s=0;s<e.length;s++){const i=e[s],n=typeof i;if(n==="string")t.push(i);else if(Array.isArray(i))t.push.apply(t,i);else if(n==="object")for(const o in i)i[o]&&t.push(o)}const r=t.join(" ");return Ut.release(t),r}(()=>{const e=new Map,t=new ResizeObserver(s=>{var i;Ir();for(const n of s)(i=e.get(n.target))==null||i(n)}),r=(s,i,n)=>(e.set(s,i),t.observe(s,n),rt(()=>{t.unobserve(s),e.delete(s)}));return(s,i,n)=>{let o=null;return us([tt(()=>typeof s=="function"?s():s,a=>{o==null||o.remove(),a&&(o=r(a,i,n))},lr),rt(()=>o==null?void 0:o.remove())])}})();const Oi=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],Pi=Oi.reduce((e,t)=>(e[t]=[],e),{}),Ei=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],Tr=new Ii({whiteList:Pi,onTagAttr:(e,t,r)=>{const s=`${t}="${r}"`;if(Ei.includes(t))return s},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);async function Ri(e,t){await ls(cs(t));const r=typeof e=="function"?e():e;r&&("setFocus"in r&&typeof r.setFocus=="function"?await r.setFocus():r instanceof HTMLElement&&r.focus())}const xr="http://www.w3.org/",Be=`${xr}2000/svg`,Ur=`${xr}1999/xlink`;let jt=[],St=(e,t)=>{let r={};return Object.keys(e).forEach(s=>{r[s]=e[s]}),t&&Object.keys(t).forEach(s=>{r[s]=t[s]}),r},bt=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),Or=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},Ci=(e,t,r)=>{if(t.vnodeSelector!==""){for(let s=r;s<e.length;s++)if(bt(e[s],t))return s}return-1},Je=(e,t,r,s)=>{let i=e[t];if(i.vnodeSelector==="")return;let n=i.properties;if(!(n&&(n.key===void 0?n.bind:n.key))){for(let o=0;o<e.length;o++)if(o!==t){let a=e[o];if(bt(a,i))throw new Error(`${r.vnodeSelector} had a ${i.vnodeSelector} child ${s==="added"?s:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},Li=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},ot=[],at=!1,Pr=e=>{(e.children||[]).forEach(Pr),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},Ft=()=>{at=!1,ot.forEach(Pr),ot.length=0},qt=e=>{ot.push(e),at||(at=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(Ft,{timeout:16}):setTimeout(Ft,16))},Mt=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r)return t.style.pointerEvents="none",void r(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),qt(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),qt(e))},Ni=(e,t,r)=>{if(!t)return;let s=r.eventHandlerInterceptor,i=Object.keys(t),n=i.length;for(let o=0;o<n;o++){let a=i[o],l=t[a];if(a==="className")throw new Error('Property "className" is not supported, use "class".');if(a==="class")ct(e,l,!0);else if(a==="classes"){let c=Object.keys(l),f=c.length;for(let u=0;u<f;u++){let d=c[u];l[d]&&e.classList.add(d)}}else if(a==="styles"){let c=Object.keys(l),f=c.length;for(let u=0;u<f;u++){let d=c[u],h=l[d];h&&(Or(h),r.styleApplyer(e,d,h))}}else if(a!=="key"&&l!=null){let c=typeof l;c==="function"?(a.lastIndexOf("on",0)===0&&(s&&(l=s(a,l,e,t)),a==="oninput"&&function(){let f=l;l=function(u){f.apply(this,[u]),u.target["oninput-value"]=u.target.value}}()),e[a]=l):r.namespace===Be?a==="href"?e.setAttributeNS(Ur,a,l):e.setAttribute(a,l):c==="string"&&a!=="value"?a==="innerHTML"?e[a]=Tr.sanitize(l):lt(e)&&a in e?e[a]=l:e.setAttribute(a,l):e[a]=l}}};function lt(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let Ce,Di=(e,t,r)=>{if(t)for(let s of t)ae(s,e,void 0,r)},Er=(e,t,r)=>{Di(e,t.children,r),t.text&&(e.textContent=t.text),Ni(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},ae=(e,t,r,s)=>{let i,n=0,o=e.vnodeSelector,a=t.ownerDocument;if(o==="")i=e.domNode=a.createTextNode(e.text),r!==void 0?t.insertBefore(i,r):t.appendChild(i);else{for(let l=0;l<=o.length;++l){let c=o.charAt(l);if(l===o.length||c==="."||c==="#"){let f=o.charAt(n-1),u=o.slice(n,l);f==="."?i.classList.add(u):f==="#"?i.id=u:(u==="svg"&&(s=St(s,{namespace:Be})),s.namespace!==void 0?i=e.domNode=a.createElementNS(s.namespace,u):(i=e.domNode=e.domNode||a.createElement(u),u==="input"&&e.properties&&e.properties.type!==void 0&&i.setAttribute("type",e.properties.type)),r!==void 0?t.insertBefore(i,r):i.parentNode!==t&&t.appendChild(i)),n=l+1}}Er(i,e,s)}},ct=(e,t,r)=>{t&&t.split(" ").forEach(s=>{s&&e.classList.toggle(s,r)})},ji=(e,t,r,s)=>{if(!r)return;let i=!1,n=Object.keys(r),o=n.length;for(let a=0;a<o;a++){let l=n[a],c=r[l],f=t[l];if(l==="class")f!==c&&(ct(e,f,!1),ct(e,c,!0));else if(l==="classes"){let u=e.classList,d=Object.keys(c),h=d.length;for(let p=0;p<h;p++){let g=d[p],v=!!c[g];v!==!!f[g]&&(i=!0,v?u.add(g):u.remove(g))}}else if(l==="styles"){let u=Object.keys(c),d=u.length;for(let h=0;h<d;h++){let p=u[h],g=c[p];g!==f[p]&&(i=!0,g?(Or(g),s.styleApplyer(e,p,g)):s.styleApplyer(e,p,""))}}else if(c||typeof f!="string"||(c=""),l!=="value"||lt(e)){if(c!==f){let u=typeof c;u==="function"&&s.eventHandlerInterceptor||(s.namespace===Be?l==="href"?e.setAttributeNS(Ur,l,c):e.setAttribute(l,c):u==="string"?l==="innerHTML"?e[l]=Tr.sanitize(c):l==="role"&&c===""?e.removeAttribute(l):lt(e)&&l in e?e[l]=c:e.setAttribute(l,c):e[l]!==c&&(e[l]=c),i=!0)}}else{let u=e[l];u!==c&&(e["oninput-value"]?u===e["oninput-value"]:c!==f)&&(e[l]=c,e["oninput-value"]=void 0),c!==f&&(i=!0)}}return i},Fi=(e,t,r,s,i)=>{if(r===s)return!1;s=s||jt;let n,o=(r=r||jt).length,a=s.length,l=0,c=0,f=!1;for(;c<a;){let u=l<o?r[l]:void 0,d=s[c];if(u!==void 0&&bt(u,d))f=Ce(u,d,i)||f,l++;else{let h=Ci(r,d,l+1);if(h>=0){for(n=l;n<h;n++)Mt(r[n]),Je(r,n,e,"removed");f=Ce(r[h],d,i)||f,l=h+1}else ae(d,t,l<o?r[l].domNode:void 0,i),Li(d),Je(s,c,e,"added")}c++}if(o>l)for(n=l;n<o;n++)Mt(r[n]),Je(r,n,e,"removed");return f};Ce=(e,t,r)=>{let s=e.domNode,i=!1;if(e===t)return!1;let n=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let o=s.ownerDocument.createTextNode(t.text);return s.parentNode.replaceChild(o,s),t.domNode=o,i=!0,i}t.domNode=s}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(r=St(r,{namespace:Be})),e.text!==t.text&&(n=!0,t.text===void 0?s.removeChild(s.firstChild):s.textContent=t.text),t.domNode=s,n=Fi(t,s,e.children,t.children,r)||n,n=ji(s,e.properties,t.properties,r)||n,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[s,r,t.vnodeSelector,t.properties,t.children]);return n&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(s,t.properties,e.properties),i};let $e=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let s=e;e=r,Ce(s,r,t)},domNode:e.domNode});const qi={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}};let we=e=>St(qi,e),Se={append:(e,t,r)=>(r=we(r),ae(t,e,void 0,r),$e(t,r)),insertBefore:(e,t,r)=>(r=we(r),ae(t,e.parentNode,e,r),$e(t,r)),merge:(e,t,r)=>(r=we(r),t.domNode=e,Er(e,t,r),$e(t,r)),replace:(e,t,r)=>(r=we(r),ae(t,e.parentNode,e,r),e.parentNode.removeChild(e),$e(t,r))};const Mi={handleInterceptedEvent:(e,t,r,s)=>(e.scheduleRender(),t.properties[`on${s.type}`].apply(t.properties.bind||r,[s]))},zi={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}},Hi=e=>({...zi,...e}),Bi=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},Wi=(e,t)=>e.find(t),zt=(e,t,r=!1)=>{let s=e;return t.forEach((i,n)=>{const o=s!=null&&s.children?Wi(s.children,a=>a.domNode===i):void 0;r&&!o&&n!==t.length-1||(s=o)}),s},Gi=e=>{let t;const r={...Mi,...e},s=Hi(r),i=s.performanceLogger;let n,o=!0,a=!1;const l=[],c=[],f=(d,h,p)=>{var _;let g;s.eventHandlerInterceptor=(w,P,K,b)=>function(S){let $;i("domEvent",S);const O=Bi(S.currentTarget,g.domNode),z=O.some(V=>{var he;return customElements.get((he=V==null?void 0:V.tagName)==null?void 0:he.toLowerCase())});if(S.eventPhase===Event.CAPTURING_PHASE||!z)O.reverse(),$=zt(g.getLastRender(),O);else{const V=S.composedPath(),he=V.slice(V.indexOf(S.currentTarget),V.indexOf(g.domNode)).reverse();$=zt(g.getLastRender(),he,!0)}let H;return $&&(H=r.handleInterceptedEvent(t,$,this,S)),i("domEventProcessed",S),H},(_=r.postProcessProjectionOptions)==null||_.call(r,s);const v=p();g=d(h,v,s),s.eventHandlerInterceptor=void 0,l.push(g),c.push(p),r.afterFirstVNodeRendered&&r.afterFirstVNodeRendered(g,v)};let u=()=>{if(n=void 0,o){o=!1,i("renderStart",void 0);for(let d=0;d<l.length;d++){const h=c[d]();i("rendered",void 0);try{l[d].update(h)}catch(p){console.error(p)}i("patched",void 0)}i("renderDone",void 0),o=!0}};return r.modifyDoRenderImplementation&&(u=r.modifyDoRenderImplementation(u,l,c)),t={renderNow:u,scheduleRender:()=>{n||a||(n=requestAnimationFrame(u))},stop:()=>{n&&(cancelAnimationFrame(n),n=void 0),a=!0},resume:()=>{a=!1,o=!0,t.scheduleRender()},append:(d,h)=>{f(Se.append,d,h)},insertBefore:(d,h)=>{f(Se.insertBefore,d,h)},merge:(d,h)=>{f(Se.merge,d,h)},replace:(d,h)=>{f(Se.replace,d,h)},detach:d=>{for(let h=0;h<c.length;h++)if(c[h]===d)return c.splice(h,1),l.splice(h,1)[0];throw new Error("renderFunction was not found")}},t};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Vi="calcite-mode-auto",Xi="calcite-mode-dark",$o={rtl:"calcite--rtl"},wo={reposition:100};var D={hasRenderFn:!0,reflect:!0,scoped:!0,updatable:!0,vdomRender:!0,hydrateServerSide:!1,lazyLoad:!1,slotRelocation:!0,experimentalSlotFixes:!1},Ji=Object.defineProperty,Qi=(e,t)=>{for(var r in t)Ji(e,r,{get:t[r],enumerable:!0})},Rr=new WeakMap,Y=e=>Rr.get(e),Yi=(e,t)=>{const r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return Rr.set(e,r)},Ht=(e,t)=>t in e,de=(e,t)=>(0,console.error)(e,t),Le=new Map,Ki=[],Zi="slot-fb{display:contents}slot-fb[hidden]{display:none}",Bt="http://www.w3.org/1999/xlink",fe=typeof window<"u"?window:{},j=fe.document||{head:{}},So=fe.HTMLElement||class{},x={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,r,s)=>e.addEventListener(t,r,s),rel:(e,t,r,s)=>e.removeEventListener(t,r,s),ce:(e,t)=>new CustomEvent(e,t)},en=(()=>{let e=!1;try{j.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),tn=e=>Promise.resolve(e),rn=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),ut=!1,dt=[],Cr=[],Lr=(e,t)=>r=>{e.push(r),ut||(ut=!0,t&&x.$flags$&4?sn(ft):x.raf(ft))},Wt=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(r){de(r)}e.length=0},ft=()=>{Wt(dt),Wt(Cr),(ut=dt.length>0)&&x.raf(ft)},sn=e=>tn().then(e),bo=Lr(dt,!1),nn=Lr(Cr,!0),on=e=>{const t=new URL(e,x.$resourcesUrl$);return t.origin!==fe.location.origin?t.href:t.pathname},an=e=>x.$resourcesUrl$=e,Gt={},ln="http://www.w3.org/2000/svg",cn="http://www.w3.org/1999/xhtml",un=e=>e!=null,kt=e=>(e=typeof e,e==="object"||e==="function");function dn(e){var t,r,s;return(s=(r=(t=e.head)==null?void 0:t.querySelector('meta[name="csp-nonce"]'))==null?void 0:r.getAttribute("content"))!=null?s:void 0}var fn={};Qi(fn,{err:()=>Nr,map:()=>hn,ok:()=>ht,unwrap:()=>pn,unwrapErr:()=>gn});var ht=e=>({isOk:!0,isErr:!1,value:e}),Nr=e=>({isOk:!1,isErr:!0,value:e});function hn(e,t){if(e.isOk){const r=t(e.value);return r instanceof Promise?r.then(s=>ht(s)):ht(r)}if(e.isErr){const r=e.value;return Nr(r)}throw"should never get here"}var pn=e=>{if(e.isOk)return e.value;throw e.value},gn=e=>{if(e.isErr)return e.value;throw e.value},J=(e,t="")=>()=>{},Dr=(e,t,...r)=>{let s=null,i=null,n=null,o=!1,a=!1;const l=[],c=u=>{for(let d=0;d<u.length;d++)s=u[d],Array.isArray(s)?c(s):s!=null&&typeof s!="boolean"&&((o=typeof e!="function"&&!kt(s))&&(s=String(s)),o&&a?l[l.length-1].$text$+=s:l.push(o?Ne(null,s):s),a=o)};if(c(r),t){t.key&&(i=t.key),t.name&&(n=t.name);{const u=t.className||t.class;u&&(t.class=typeof u!="object"?u:Object.keys(u).filter(d=>u[d]).join(" "))}}if(typeof e=="function")return e(t===null?{}:t,l,yn);const f=Ne(e,null);return f.$attrs$=t,l.length>0&&(f.$children$=l),f.$key$=i,f.$name$=n,f},Ne=(e,t)=>{const r={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return r.$attrs$=null,r.$key$=null,r.$name$=null,r},vn={},mn=e=>e&&e.$tag$===vn,yn={forEach:(e,t)=>e.map(Vt).forEach(t),map:(e,t)=>e.map(Vt).map(t).map(_n)},Vt=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),_n=e=>{if(typeof e.vtag=="function"){const r={...e.vattrs};return e.vkey&&(r.key=e.vkey),e.vname&&(r.name=e.vname),Dr(e.vtag,r,...e.vchildren||[])}const t=Ne(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},$n=e=>Ki.map(t=>t(e)).find(t=>!!t),wn=(e,t)=>e!=null&&!kt(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,Sn=e=>e,ko=(e,t,r)=>{const s=Sn(e);return{emit:i=>bn(s,t,{bubbles:!!(r&4),composed:!!(r&2),cancelable:!!(r&1),detail:i})}},bn=(e,t,r)=>{const s=x.ce(t,r);return e.dispatchEvent(s),s},Xt=new WeakMap,kn=(e,t,r)=>{let s=Le.get(e);rn&&r?(s=s||new CSSStyleSheet,typeof s=="string"?s=t:s.replaceSync(t)):s=t,Le.set(e,s)},An=(e,t,r)=>{var s;const i=jr(t,r),n=Le.get(i);if(e=e.nodeType===11?e:j,n)if(typeof n=="string"){e=e.head||e;let o=Xt.get(e),a;if(o||Xt.set(e,o=new Set),!o.has(i)){{a=j.createElement("style"),a.innerHTML=n;const l=(s=x.$nonce$)!=null?s:dn(j);l!=null&&a.setAttribute("nonce",l),(!(t.$flags$&1)||t.$flags$&1&&e.nodeName!=="HEAD")&&e.insertBefore(a,e.querySelector("link"))}t.$flags$&4&&(a.innerHTML+=Zi),o&&o.add(i)}}else e.adoptedStyleSheets.includes(n)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,n]);return i},In=e=>{const t=e.$cmpMeta$,r=e.$hostElement$,s=t.$flags$,i=J("attachStyles",t.$tagName$),n=An(r.shadowRoot?r.shadowRoot:r.getRootNode(),t,e.$modeName$);s&10&&s&2&&(r["s-sc"]=n,r.classList.add(n+"-h"),s&2&&r.classList.add(n+"-s")),i()},jr=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),Jt=(e,t,r,s,i,n)=>{if(r!==s){let o=Ht(e,t),a=t.toLowerCase();if(t==="class"){const l=e.classList,c=Qt(r),f=Qt(s);l.remove(...c.filter(u=>u&&!f.includes(u))),l.add(...f.filter(u=>u&&!c.includes(u)))}else if(t==="style"){for(const l in r)(!s||s[l]==null)&&(l.includes("-")?e.style.removeProperty(l):e.style[l]="");for(const l in s)(!r||s[l]!==r[l])&&(l.includes("-")?e.style.setProperty(l,s[l]):e.style[l]=s[l])}else if(t!=="key")if(t==="ref")s&&s(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n"){if(t[2]==="-"?t=t.slice(3):Ht(fe,a)?t=a.slice(2):t=a[2]+t.slice(3),r||s){const l=t.endsWith(Fr);t=t.replace(xn,""),r&&x.rel(e,t,r,l),s&&x.ael(e,t,s,l)}}else{const l=kt(s);if((o||l&&s!==null)&&!i)try{if(e.tagName.includes("-"))e[t]=s;else{const f=s??"";t==="list"?o=!1:(r==null||e[t]!=f)&&(e[t]=f)}}catch{}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(t=a,c=!0),s==null||s===!1?(s!==!1||e.getAttribute(t)==="")&&(c?e.removeAttributeNS(Bt,t):e.removeAttribute(t)):(!o||n&4||i)&&!l&&(s=s===!0?"":s,c?e.setAttributeNS(Bt,t,s):e.setAttribute(t,s))}}},Tn=/\s/,Qt=e=>e?e.split(Tn):[],Fr="Capture",xn=new RegExp(Fr+"$"),qr=(e,t,r)=>{const s=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||Gt,n=t.$attrs$||Gt;for(const o of Yt(Object.keys(i)))o in n||Jt(s,o,i[o],void 0,r,t.$flags$);for(const o of Yt(Object.keys(n)))Jt(s,o,i[o],n[o],r,t.$flags$)};function Yt(e){return e.includes("ref")?[...e.filter(t=>t!=="ref"),"ref"]:e}var ee,pt,le,De=!1,je=!1,At=!1,C=!1,Fe=(e,t,r,s)=>{var i;const n=t.$children$[r];let o=0,a,l,c;if(De||(At=!0,n.$tag$==="slot"&&(ee&&s.classList.add(ee+"-s"),n.$flags$|=n.$children$?2:1)),n.$text$!==null)a=n.$elm$=j.createTextNode(n.$text$);else if(n.$flags$&1)a=n.$elm$=j.createTextNode("");else{if(C||(C=n.$tag$==="svg"),a=n.$elm$=j.createElementNS(C?ln:cn,!De&&D.slotRelocation&&n.$flags$&2?"slot-fb":n.$tag$),C&&n.$tag$==="foreignObject"&&(C=!1),qr(null,n,C),!!a.getRootNode().querySelector("body")&&D.scoped&&un(ee)&&a["s-si"]!==ee&&a.classList.add(a["s-si"]=ee),Tt(a,s),n.$children$)for(o=0;o<n.$children$.length;++o)l=Fe(e,n,o,a),l&&a.appendChild(l);n.$tag$==="svg"?C=!1:a.tagName==="foreignObject"&&(C=!0)}return a["s-hn"]=le,n.$flags$&3&&(a["s-sr"]=!0,a["s-cr"]=pt,a["s-sn"]=n.$name$||"",a["s-rf"]=(i=n.$attrs$)==null?void 0:i.ref,c=e&&e.$children$&&e.$children$[r],c&&c.$tag$===n.$tag$&&e.$elm$&&ce(e.$elm$,!1)),a},ce=(e,t)=>{x.$flags$|=1;const r=Array.from(e.childNodes);e["s-sr"]&&D.experimentalSlotFixes;for(let s=r.length-1;s>=0;s--){const i=r[s];i["s-hn"]!==le&&i["s-ol"]&&(G(Hr(i),i,It(i)),i["s-ol"].remove(),i["s-ol"]=void 0,i["s-sh"]=void 0,At=!0),t&&ce(i,t)}x.$flags$&=-2},Mr=(e,t,r,s,i,n)=>{let o=e["s-cr"]&&e["s-cr"].parentNode||e,a;for(o.shadowRoot&&o.tagName===le&&(o=o.shadowRoot);i<=n;++i)s[i]&&(a=Fe(null,r,i,e),a&&(s[i].$elm$=a,G(o,a,It(t))))},zr=(e,t,r)=>{for(let s=t;s<=r;++s){const i=e[s];if(i){const n=i.$elm$;Gr(i),n&&(je=!0,n["s-ol"]?n["s-ol"].remove():ce(n,!0),n.remove())}}},Un=(e,t,r,s,i=!1)=>{let n=0,o=0,a=0,l=0,c=t.length-1,f=t[0],u=t[c],d=s.length-1,h=s[0],p=s[d],g,v;for(;n<=c&&o<=d;)if(f==null)f=t[++n];else if(u==null)u=t[--c];else if(h==null)h=s[++o];else if(p==null)p=s[--d];else if(be(f,h,i))te(f,h,i),f=t[++n],h=s[++o];else if(be(u,p,i))te(u,p,i),u=t[--c],p=s[--d];else if(be(f,p,i))(f.$tag$==="slot"||p.$tag$==="slot")&&ce(f.$elm$.parentNode,!1),te(f,p,i),G(e,f.$elm$,u.$elm$.nextSibling),f=t[++n],p=s[--d];else if(be(u,h,i))(f.$tag$==="slot"||p.$tag$==="slot")&&ce(u.$elm$.parentNode,!1),te(u,h,i),G(e,u.$elm$,f.$elm$),u=t[--c],h=s[++o];else{for(a=-1,l=n;l<=c;++l)if(t[l]&&t[l].$key$!==null&&t[l].$key$===h.$key$){a=l;break}a>=0?(v=t[a],v.$tag$!==h.$tag$?g=Fe(t&&t[o],r,a,e):(te(v,h,i),t[a]=void 0,g=v.$elm$),h=s[++o]):(g=Fe(t&&t[o],r,o,e),h=s[++o]),g&&G(Hr(f.$elm$),g,It(f.$elm$))}n>c?Mr(e,s[d+1]==null?null:s[d+1].$elm$,r,s,o,d):o>d&&zr(t,n,c)},be=(e,t,r=!1)=>e.$tag$===t.$tag$?e.$tag$==="slot"?"$nodeId$"in e&&r&&e.$elm$.nodeType!==8?!1:e.$name$===t.$name$:r?!0:e.$key$===t.$key$:!1,It=e=>e&&e["s-ol"]||e,Hr=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,te=(e,t,r=!1)=>{const s=t.$elm$=e.$elm$,i=e.$children$,n=t.$children$,o=t.$tag$,a=t.$text$;let l;a===null?(C=o==="svg"?!0:o==="foreignObject"?!1:C,o==="slot"&&!De||qr(e,t,C),i!==null&&n!==null?Un(s,i,t,n,r):n!==null?(e.$text$!==null&&(s.textContent=""),Mr(s,null,t,n,0,n.length-1)):!r&&D.updatable&&i!==null&&zr(i,0,i.length-1),C&&o==="svg"&&(C=!1)):(l=s["s-cr"])?l.parentNode.textContent=a:e.$text$!==a&&(s.data=a)},Br=e=>{const t=e.childNodes;for(const r of t)if(r.nodeType===1){if(r["s-sr"]){const s=r["s-sn"];r.hidden=!1;for(const i of t)if(i!==r){if(i["s-hn"]!==r["s-hn"]||s!==""){if(i.nodeType===1&&(s===i.getAttribute("slot")||s===i["s-sn"])||i.nodeType===3&&s===i["s-sn"]){r.hidden=!0;break}}else if(i.nodeType===1||i.nodeType===3&&i.textContent.trim()!==""){r.hidden=!0;break}}}Br(r)}},q=[],Wr=e=>{let t,r,s;for(const i of e.childNodes){if(i["s-sr"]&&(t=i["s-cr"])&&t.parentNode){r=t.parentNode.childNodes;const n=i["s-sn"];for(s=r.length-1;s>=0;s--)if(t=r[s],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==i["s-hn"])if(Kt(t,n)){let o=q.find(a=>a.$nodeToRelocate$===t);je=!0,t["s-sn"]=t["s-sn"]||n,o?(o.$nodeToRelocate$["s-sh"]=i["s-hn"],o.$slotRefNode$=i):(t["s-sh"]=i["s-hn"],q.push({$slotRefNode$:i,$nodeToRelocate$:t})),t["s-sr"]&&q.map(a=>{Kt(a.$nodeToRelocate$,t["s-sn"])&&(o=q.find(l=>l.$nodeToRelocate$===t),o&&!a.$slotRefNode$&&(a.$slotRefNode$=o.$slotRefNode$))})}else q.some(o=>o.$nodeToRelocate$===t)||q.push({$nodeToRelocate$:t})}i.nodeType===1&&Wr(i)}},Kt=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",Gr=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(Gr)},G=(e,t,r)=>{const s=e==null?void 0:e.insertBefore(t,r);return Tt(t,e),s},Vr=e=>{const t=[];return e&&t.push(...e["s-scs"]||[],e["s-si"],e["s-sc"],...Vr(e.parentElement)),t},Tt=(e,t,r=!1)=>{var s;if(e&&t&&e.nodeType===1){const i=new Set(Vr(t).filter(Boolean));if(i.size&&((s=e.classList)==null||s.add(...e["s-scs"]=[...i]),e["s-ol"]||r))for(const n of Array.from(e.childNodes))Tt(n,e,!0)}},On=(e,t,r=!1)=>{var s,i,n,o,a;const l=e.$hostElement$,c=e.$cmpMeta$,f=e.$vnode$||Ne(null,null),u=mn(t)?t:Dr(null,null,t);if(le=l.tagName,c.$attrsToReflect$&&(u.$attrs$=u.$attrs$||{},c.$attrsToReflect$.map(([d,h])=>u.$attrs$[h]=l[d])),r&&u.$attrs$)for(const d of Object.keys(u.$attrs$))l.hasAttribute(d)&&!["key","ref","style","class"].includes(d)&&(u.$attrs$[d]=l[d]);u.$tag$=null,u.$flags$|=4,e.$vnode$=u,u.$elm$=f.$elm$=l.shadowRoot||l,ee=l["s-sc"],De=(c.$flags$&1)!==0,pt=l["s-cr"],je=!1,te(f,u,r);{if(x.$flags$|=1,At){Wr(u.$elm$);for(const d of q){const h=d.$nodeToRelocate$;if(!h["s-ol"]){const p=j.createTextNode("");p["s-nr"]=h,G(h.parentNode,h["s-ol"]=p,h)}}for(const d of q){const h=d.$nodeToRelocate$,p=d.$slotRefNode$;if(p){const g=p.parentNode;let v=p.nextSibling;{let _=(s=h["s-ol"])==null?void 0:s.previousSibling;for(;_;){let w=(i=_["s-nr"])!=null?i:null;if(w&&w["s-sn"]===h["s-sn"]&&g===w.parentNode){for(w=w.nextSibling;w===h||w!=null&&w["s-sr"];)w=w==null?void 0:w.nextSibling;if(!w||!w["s-nr"]){v=w;break}}_=_.previousSibling}}(!v&&g!==h.parentNode||h.nextSibling!==v)&&h!==v&&(!h["s-hn"]&&h["s-ol"]&&(h["s-hn"]=h["s-ol"].parentNode.nodeName),G(g,h,v),h.nodeType===1&&(h.hidden=(n=h["s-ih"])!=null?n:!1)),h&&typeof p["s-rf"]=="function"&&p["s-rf"](h)}else h.nodeType===1&&(r&&(h["s-ih"]=(o=h.hidden)!=null?o:!1),h.hidden=!0)}}je&&Br(u.$elm$),x.$flags$&=-2,q.length=0}if(D.experimentalScopedSlotChanges&&c.$flags$&2)for(const d of u.$elm$.childNodes)d["s-hn"]!==le&&!d["s-sh"]&&(r&&d["s-ih"]==null&&(d["s-ih"]=(a=d.hidden)!=null?a:!1),d.hidden=!0);pt=void 0},Pn=(e,t)=>{},xt=(e,t)=>(e.$flags$|=16,Pn(e,e.$ancestorComponent$),nn(()=>En(e,t))),En=(e,t)=>{const r=e.$hostElement$,s=J("scheduleUpdate",e.$cmpMeta$.$tagName$),i=r;if(!i)throw new Error(`Can't render component <${r.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let n;return t?n=re(i,"componentWillLoad"):n=re(i,"componentWillUpdate"),n=Zt(n,()=>re(i,"componentWillRender")),s(),Zt(n,()=>Cn(e,i,t))},Zt=(e,t)=>Rn(e)?e.then(t).catch(r=>{console.error(r),t()}):t(),Rn=e=>e instanceof Promise||e&&e.then&&typeof e.then=="function",Cn=async(e,t,r)=>{const s=e.$hostElement$,i=J("update",e.$cmpMeta$.$tagName$);s["s-rc"],r&&In(e);const n=J("render",e.$cmpMeta$.$tagName$);Ln(e,t,s,r),n(),i(),Nn(e)},er=null,Ln=(e,t,r,s)=>{try{er=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(D.hasRenderFn||D.reflect)&&(D.vdomRender||D.reflect)&&(D.hydrateServerSide||On(e,t,s))}catch(l){de(l,e.$hostElement$)}return er=null,null},Nn=e=>{const t=e.$cmpMeta$.$tagName$,r=e.$hostElement$,s=J("postUpdate",t),i=r;e.$ancestorComponent$,re(i,"componentDidRender"),e.$flags$&64?(re(i,"componentDidUpdate"),s()):(e.$flags$|=64,re(i,"componentDidLoad"),s())},Ao=e=>{{const t=Y(e),r=t.$hostElement$.isConnected;return r&&(t.$flags$&18)===2&&xt(t,!1),r}},re=(e,t,r)=>{if(e&&e[t])try{return e[t](r)}catch(s){de(s)}},Dn=(e,t)=>Y(e).$instanceValues$.get(t),jn=(e,t,r,s)=>{const i=Y(e),n=e,o=i.$instanceValues$.get(t),a=i.$flags$,l=n;r=wn(r,s.$members$[t][0]);const c=Number.isNaN(o)&&Number.isNaN(r);if(r!==o&&!c){i.$instanceValues$.set(t,r);{if(s.$watchers$&&a&128){const u=s.$watchers$[t];u&&u.map(d=>{try{l[d](r,o,t)}catch(h){de(h,n)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(r,o,t)===!1)return;xt(i,!1)}}}},Fn=(e,t,r)=>{var s,i;const n=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const o=Object.entries((s=t.$members$)!=null?s:{});o.map(([a,[l]])=>{(l&31||l&32)&&Object.defineProperty(n,a,{get(){return Dn(this,a)},set(c){jn(this,a,c,t)},configurable:!0,enumerable:!0})});{const a=new Map;n.attributeChangedCallback=function(l,c,f){x.jmp(()=>{var u;const d=a.get(l);if(this.hasOwnProperty(d))f=this[d],delete this[d];else{if(n.hasOwnProperty(d)&&typeof this[d]=="number"&&this[d]==f)return;if(d==null){const h=Y(this),p=h==null?void 0:h.$flags$;if(p&&!(p&8)&&p&128&&f!==c){const v=this,_=(u=t.$watchers$)==null?void 0:u[l];_==null||_.forEach(w=>{v[w]!=null&&v[w].call(v,f,c,l)})}return}}this[d]=f===null&&typeof this[d]=="boolean"?!1:f})},e.observedAttributes=Array.from(new Set([...Object.keys((i=t.$watchers$)!=null?i:{}),...o.filter(([l,c])=>c[0]&15).map(([l,c])=>{var f;const u=c[1]||l;return a.set(u,l),c[0]&512&&((f=t.$attrsToReflect$)==null||f.push([l,u])),u})]))}}return e},qn=async(e,t,r,s)=>{let i;if(!(t.$flags$&32)){t.$flags$|=32,r.$lazyBundleId$;{i=e.constructor;const o=e.localName;customElements.whenDefined(o).then(()=>t.$flags$|=128)}if(i&&i.style){let o;typeof i.style=="string"?o=i.style:typeof i.style!="string"&&(t.$modeName$=$n(e),t.$modeName$&&(o=i.style[t.$modeName$]));const a=jr(r,t.$modeName$);if(!Le.has(a)){const l=J("registerStyles",r.$tagName$);kn(a,o,!!(r.$flags$&1)),l()}}}t.$ancestorComponent$,xt(t,!0)},tr=e=>{},Mn=e=>{if(!(x.$flags$&1)){const t=Y(e),r=t.$cmpMeta$,s=J("connectedCallback",r.$tagName$);t.$flags$&1?(Xr(e,t,r.$listeners$),t!=null&&t.$lazyInstance$?tr(t.$lazyInstance$):t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>tr(t.$lazyInstance$))):(t.$flags$|=1,r.$flags$&12&&zn(e),r.$members$&&Object.entries(r.$members$).map(([i,[n]])=>{if(n&31&&e.hasOwnProperty(i)){const o=e[i];delete e[i],e[i]=o}}),qn(e,t,r)),s()}},zn=e=>{const t=e["s-cr"]=j.createComment("");t["s-cn"]=!0,G(e,t,e.firstChild)},Hn=async e=>{if(!(x.$flags$&1)){const t=Y(e);t.$rmListeners$&&(t.$rmListeners$.map(r=>r()),t.$rmListeners$=void 0)}},Io=(e,t)=>{const r={$flags$:t[0],$tagName$:t[1]};r.$members$=t[2],r.$listeners$=t[3],r.$watchers$=e.$watchers$,r.$attrsToReflect$=[];const s=e.prototype.connectedCallback,i=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){Yi(this,r)},connectedCallback(){const n=Y(this);Xr(this,n,r.$listeners$),Mn(this),s&&s.call(this)},disconnectedCallback(){Hn(this),i&&i.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(r.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${r.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}),e.is=r.$tagName$,Fn(e,r)},To=(e,t)=>t,Xr=(e,t,r,s)=>{r&&r.map(([i,n,o])=>{const a=Wn(e,i),l=Bn(t,o),c=Gn(i);x.ael(a,n,l,c),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>x.rel(a,n,l,c))})},Bn=(e,t)=>r=>{var s;try{D.lazyLoad||e.$hostElement$[t](r)}catch(i){de(i)}},Wn=(e,t)=>t&4?j:t&8?fe:t&16?j.body:e,Gn=e=>en?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0;/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const M=globalThis.calciteConfig,xo=(M==null?void 0:M.focusTrapStack)||[];M!=null&&M.logLevel;const rr="2.13.2",Vn="2024-10-24",Xn="e38e2977d";function Jn(){if(M&&M.version)return;console.info(`Using Calcite Components ${rr} [Date: ${Vn}, Revision: ${Xn}]`);const e=M||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:rr,writable:!1}),globalThis.calciteConfig=e}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */const Qn=()=>typeof navigator<"u"&&typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */function sr(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,r=()=>e.contains(Xi)||e.contains(Vi)&&t?"dark":"light",s=o=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:o}})),i=o=>{n!==o&&s(o),n=o};let n=r();s(n),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>i(o.matches?"dark":"light")),new MutationObserver(()=>i(r())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}function Yn(){Qn()&&(document.readyState==="interactive"?sr():document.addEventListener("DOMContentLoaded",()=>sr(),{once:!0})),Jn()}const Kn=Yn;Kn();let Jr;function Zn(){try{on(".")}catch{an(st(ds(Jr)))}}function eo(e){var r;const t=[];for(const s of Object.keys(e))customElements.get(`calcite-${s}`)||t.push((r=e[s])==null?void 0:r.call(e));return t.length>0?Promise.all(t):null}Jr="components/assets";const Qr=Symbol("widget"),Yr=Symbol("widget-test-data"),to=[],ro={},qe=new WeakMap;function Kr(e,t){let r=t.children;if(r!=null&&r.length)for(let i=0;i<r.length;++i)r[i]=Kr(e,r[i]);else r=to;const s=t.vnodeSelector;if(Me(s)){const i=t.properties||ro,n=i.key||s,o={key:n,afterCreate:so,afterUpdate:io,afterRemoved:Zr,parentWidget:e,widgetConstructor:s,widgetProperties:{...i,key:n,children:r}};return{vnodeSelector:s.vnodeSelector,properties:o,children:void 0,text:void 0,domNode:null}}return t}function so(e,t,r,{parentWidget:s,widgetConstructor:i,widgetProperties:n}){var a;const o=new i(n);o.container=e,qe.set(e,o),(a=o.afterCreate)==null||a.call(o,o,e),s.addHandles(rt(()=>Zr(e))),queueMicrotask(()=>{o[Yr].projector.renderNow()})}function io(e,t,r,{widgetProperties:s}){var n;const i=qe.get(e);i&&(i.set(s),(n=i.afterUpdate)==null||n.call(i,i,e))}function Zr(e){var r;const t=qe.get(e);t&&((r=t.afterRemoved)==null||r.call(t,t,e),t.destroy(),qe.delete(e))}function Me(e){return typeof e=="function"&&e[Qr]}const ir=new Set;function no(e){ir.add(e),e.finally(()=>ir.delete(e))}var es;const oo="esri.widgets.Widget";let ao=0;function ts(e,t){const r=Object.prototype.hasOwnProperty;for(const s in t)r.call(t,s)&&r.call(e,s)&&(e[s]!=null&&t[s]!=null&&typeof e[s]=="object"&&typeof t[s]=="object"?ts(e[s],t[s]):e[s]=t[s]);return e}const lo=Gi({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(s,i,n,o)=>{const a=t==null?void 0:t(s,i,n,o),l=r.test(s);if(!((s=s.replace(r,"")).toLowerCase()in n)||l){const c=s[2].toLowerCase()+s.slice(3),f=h=>a==null?void 0:a.call(n,h);n.addEventListener(c,f,l);const u=()=>n.removeEventListener(c,f,l),d=o.afterRemoved;o.afterRemoved=h=>{d==null||d(h),u()}}return a}},handleInterceptedEvent(e,t,r,s){const{eventPhase:i,type:n}=s,o=i===Event.CAPTURING_PHASE;let a=`on${n}${o?"capture":""}`;const l=t.properties;(l&&a in l||(a=`on${n[0].toUpperCase()}${n.slice(1)}${o?"Capture":""}`,l&&a in l))&&(Ir(),e.scheduleRender(),l[a].call(l.bind||r,s))}});let Qe=!1,T=class extends fs(yt.EventedAccessor){constructor(e,t){super(e,t),this._attached=!1,this._projector=lo,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=hs(async()=>{var a;if((a=this._messageBundleProps)!=null&&a.length){const l=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:c,propertyName:f})=>{if(this.destroyed)return;let u=await _s(c);this.uiStrings&&Object.keys(this.uiStrings)&&(u=ts($s(u),this.uiStrings)),this[f]=u}));if(this.destroyed)return;for(const c of l)c.status==="rejected"&&ke.getLogger(this).error("widget-intl:locale-error",this.declaredClass,c.reason)}await this.loadLocale()}),Zn();const r="esri-widget-uid-"+Us(),s=this.render.bind(this);this._trackingTarget=new ps(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const i=()=>({vnodeSelector:"div",properties:{key:`${r}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),n=()=>{var f,u;if(!this._readyForTrueRender||this.destroyed)return null;const a=s()??i(),l=a.properties??(a.properties={});if(l.key??(l.key=r),Me(a.vnodeSelector)){if(!this.visible)return i()}else this.visible?l.styles||(l.styles={}):(l.class="",l.styles={display:"none"}),(f=l.styles).display??(f.display="");let c=0;return(u=a.children)==null||u.forEach(d=>{var h;Me(d.vnodeSelector)||(d.properties??(d.properties={}),(h=d.properties).key??(h.key=`${this.id}--${c++}`))}),Kr(this,a)};this.render=()=>{if(Qe)return n();let a=Ti(this)??null;if(a)return a;this._trackingTarget.clear(),Qe=!0;try{a=gs(this._trackingTarget,n)}catch(l){throw ke.getLogger(this).error(l),l}finally{Qe=!1}return a&&xi(this,a),a};const o=this.beforeFirstRender();o?this._resourcesFetch=o.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),no(this._resourcesFetch)}normalizeCtorArgs(e,t){const r={...e};return t&&(r.container=t),r}postInitialize(){}beforeFirstRender(){var t;const e=this.loadDependencies();return(t=this._messageBundleProps)!=null&&t.length||e?Promise.all([e,this._loadLocale()]).then(()=>{}).catch(Ot):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(Pt(this._trackingTarget),Pt(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,Xe(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return Cs(e)}get domNode(){return this.container}set domNode(e){this.container=e}get icon(){return null}set icon(e){this._overrideIfSome("icon",e)}get id(){var e;return this._get("id")||((e=this.container)==null?void 0:e.id)||Date.now().toString(16)+"-widget-"+ao++}set id(e){e&&this._set("id",e)}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e)}get[(es=Qr,Yr)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(Xe(this),this._projector.scheduleRender())}own(e){vs(ke.getLogger(this),"`Widget.own()` is deprecated in favor of 'Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"}),this.addHandles(e)}classes(...e){return Ui.apply(this,e)}renderNow(){Xe(this),this._projector.renderNow()}_postInitialize(){var t;if(this.destroyed)return;this.scheduleRender(),(t=this._delegatedEventNames)!=null&&t.length&&this.addHandles(tt(()=>this.viewModel,(r,s)=>{s&&this.removeHandles("delegated-events"),r&&ws(r)&&this.addHandles(this._delegatedEventNames.map(i=>Ae(r,i,n=>{this.emit(i,n)})),"delegated-events")},lr)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(Ot),this.scheduleRender()};this.addHandles([ms(e),tt(()=>this.uiStrings,e),ys(()=>this.container,r=>{this.destroyed||this._attach(r)},{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){var t;this._attached&&(this._projector.detach(this.render),this._attached=!1),(t=e==null?void 0:e.parentNode)==null||t.removeChild(e)}};T[es]=!0,T.vnodeSelector="div",m([y()],T.prototype,"_readyForTrueRender",void 0),m([y({value:null})],T.prototype,"container",null),m([Ss("container")],T.prototype,"castContainer",null),m([y()],T.prototype,"icon",null),m([y()],T.prototype,"id",null),m([y()],T.prototype,"label",null),m([y()],T.prototype,"renderable",null),m([y()],T.prototype,"uiStrings",void 0),m([y()],T.prototype,"viewModel",void 0),m([y({value:!0})],T.prototype,"visible",null),m([y()],T.prototype,"key",void 0),m([y()],T.prototype,"children",void 0),m([y()],T.prototype,"afterCreate",void 0),m([y()],T.prototype,"afterUpdate",void 0),m([y()],T.prototype,"afterRemoved",void 0),T=m([ue(oo)],T);const co=T;function nr(e){return(t,r)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}var uo=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},rs=function(e,t){for(var r=0,s=e.length;r<s;r++){var i=e[r];Array.isArray(i)?rs(i,t):i!=null&&i!==!1&&(i.hasOwnProperty("vnodeSelector")||(i=uo(i)),t.push(i))}},fo=function(e,t){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];if(r.length===1&&typeof r[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var i=[];return rs(r,i),{vnodeSelector:e,properties:t||void 0,children:i,text:void 0,domNode:null}};function L(e,t,...r){return typeof e!="function"||Me(e)?fo(e,t,...r):e(t,...r)}const ho="calcite-mode-";function po(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"")}function go(){return po().startsWith("dark")}function vo(){return`${ho}${go()?"dark":"light"}`}const Ye="esri-identity-modal",Ke={base:Ye,info:`${Ye}__info`,notice:`${Ye}__notice`},mo="ArcGIS Online";let E=class extends co{constructor(e,t){super(e,t),this.container=document.createElement("div"),this.error=null,this.oAuthPrompt=!1,this.open=!1,this.signingIn=!1,this.server=null,this.resource=null,this._usernameInputNode=null,this._passwordInputNode=null,document.body.appendChild(this.container)}loadDependencies(){return eo({button:()=>se(()=>import("./calcite-button-Bi98iPhC.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])),dialog:()=>se(()=>import("./calcite-dialog-BLRj4iFs.js"),__vite__mapDeps([10,2,5,11,3,6,7,8,9])),input:()=>se(()=>import("./calcite-input-BmOGnFHQ.js"),__vite__mapDeps([12,2,1,3,5,4,7,8,9])),label:()=>se(()=>import("./calcite-label-B3EEtl-E.js"),__vite__mapDeps([13,4,2,7,8,9])),notice:()=>se(()=>import("./calcite-notice-C1ekge2a.js"),__vite__mapDeps([14,5,2,11,7,8,9]))})}get title(){var e;return(e=this.commonMessages)==null?void 0:e.auth.signIn}render(){var w;const{open:e,title:t,messages:r,signingIn:s,oAuthPrompt:i,server:n,resource:o,error:a}=this,{info:l,oAuthInfo:c,lblItem:f,invalidUser:u,noAuthService:d,lblUser:h,lblPwd:p,lblCancel:g,lblSigning:v,lblOk:_}=r;return L("div",{class:this.classes(Ke.base,vo())},L("form",{bind:this,onsubmit:this._submit},L("calcite-dialog",{bind:this,heading:t,modal:!0,open:e,outsideCloseDisabled:!0,scale:"s",widthScale:"s",onCalciteDialogClose:this._cancel,onCalciteDialogOpen:this._focusUsernameInput},L("div",{class:Ke.info},Os(i?c:l,{server:n&&/\.arcgis\.com/i.test(n)?mo:n,resource:`(${o||f})`})),a?L("calcite-notice",{class:Ke.notice,icon:"exclamation-mark-triangle",kind:"danger",open:!0},L("div",{slot:"message"},(w=a.details)!=null&&w.httpStatus?u:d)):null,i?null:[L("calcite-label",null,h,L("calcite-input",{afterCreate:P=>this._usernameInputNode=P,autocomplete:"off",bind:this,name:"username",required:!0,spellcheck:!1,type:"text",value:""})),L("calcite-label",null,p,L("calcite-input",{afterCreate:P=>this._passwordInputNode=P,bind:this,name:"password",required:!0,type:"password",value:""}))],L("calcite-button",{appearance:"outline",bind:this,onclick:this._cancel,slot:"footer-end",type:"button"},g),L("calcite-button",{loading:!!s,slot:"footer-end",type:"submit"},s?v:_))))}_focusUsernameInput(){return Ri(()=>this._usernameInputNode)}_cancel(){this._set("signingIn",!1),this.open=!1,this._usernameInputNode&&(this._usernameInputNode.value=""),this._passwordInputNode&&(this._passwordInputNode.value=""),this.emit("cancel")}_submit(e){var r,s;e.preventDefault(),this._set("signingIn",!0);const t=this.oAuthPrompt?{}:{username:(r=this._usernameInputNode)==null?void 0:r.value,password:(s=this._passwordInputNode)==null?void 0:s.value};this.emit("submit",t)}};m([y({readOnly:!0})],E.prototype,"container",void 0),m([y(),nr("esri/t9n/common")],E.prototype,"commonMessages",void 0),m([y()],E.prototype,"error",void 0),m([y(),nr("esri/identity/t9n/identity")],E.prototype,"messages",void 0),m([y()],E.prototype,"oAuthPrompt",void 0),m([y()],E.prototype,"open",void 0),m([y()],E.prototype,"signingIn",void 0),m([y()],E.prototype,"server",void 0),m([y({readOnly:!0})],E.prototype,"title",null),m([y()],E.prototype,"resource",void 0),E=m([ue("esri.identity.IdentityModal")],E);const or=E,Ze="esriJSAPIOAuth";class gt{constructor(t,r){this.oAuthInfo=null,this.storage=null,this.appId=null,this.codeVerifier=null,this.expires=null,this.refreshToken=null,this.ssl=null,this.stateUID=null,this.token=null,this.userId=null,this.oAuthInfo=t,this.storage=r,this._init()}isValid(){let t=!1;if(this.oAuthInfo&&this.userId&&(this.refreshToken||this.token)){if(this.expires==null&&this.refreshToken)t=!0;else if(this.expires){const r=Date.now();this.expires>r&&(this.expires-r)/1e3>60*this.oAuthInfo.minTimeUntilExpiration&&(t=!0)}}return t}save(){if(!this.storage)return!1;const t=this._load(),r=this.oAuthInfo;if(r!=null&&r.authNamespace&&r.portalUrl){let s=t[r.authNamespace];s||(s=t[r.authNamespace]={}),this.appId||(this.appId=r.appId),s[r.portalUrl]={appId:this.appId,codeVerifier:this.codeVerifier,expires:this.expires,refreshToken:this.refreshToken,ssl:this.ssl,stateUID:this.stateUID,token:this.token,userId:this.userId};try{this.storage.setItem(Ze,JSON.stringify(t))}catch(i){return console.warn(i),!1}return!0}return!1}destroy(){const t=this._load(),r=this.oAuthInfo;if(r!=null&&r.appId&&(r!=null&&r.portalUrl)&&(this.expires==null||this.expires>Date.now())&&(this.refreshToken||this.token)){const s=r.portalUrl.replace(/^http:/i,"https:")+"/sharing/rest/oauth2/revokeToken",i=new FormData;if(i.append("f","json"),i.append("auth_token",this.refreshToken||this.token),i.append("client_id",r.appId),i.append("token_type_hint",this.refreshToken?"refresh_token":"access_token"),typeof navigator.sendBeacon=="function")navigator.sendBeacon(s,i);else{const n=new XMLHttpRequest;n.open("POST",s),n.send(i)}}if(r!=null&&r.authNamespace&&r.portalUrl&&this.storage){const s=t[r.authNamespace];if(s){delete s[r.portalUrl];try{this.storage.setItem(Ze,JSON.stringify(t))}catch(i){console.log(i)}}}r&&(r._oAuthCred=null,this.oAuthInfo=null)}_init(){const t=this._load(),r=this.oAuthInfo;if(r!=null&&r.authNamespace&&r.portalUrl){let s=t[r.authNamespace];s&&(s=s[r.portalUrl],s&&(this.appId=s.appId,this.codeVerifier=s.codeVerifier,this.expires=s.expires,this.refreshToken=s.refreshToken,this.ssl=s.ssl,this.stateUID=s.stateUID,this.token=s.token,this.userId=s.userId))}}_load(){let t={};if(this.storage){const r=this.storage.getItem(Ze);if(r)try{t=JSON.parse(r)}catch(s){console.warn(s)}}return t}}gt.prototype.declaredClass="esri.identity.OAuthCredential";var vt;let U=vt=class extends cr{constructor(e){super(e),this._oAuthCred=null,this.appId=null,this.authNamespace="/",this.expiration=20160,this.flowType="auto",this.forceLogin=!1,this.forceUserId=!1,this.locale=null,this.minTimeUntilExpiration=30,this.popup=!1,this.popupCallbackUrl="oauth-callback.html",this.popupWindowFeatures="height=490,width=800,resizable,scrollbars,status",this.portalUrl="https://www.arcgis.com",this.preserveUrlHash=!1,this.userId=null}clone(){return vt.fromJSON(this.toJSON())}};m([y({json:{write:!0}})],U.prototype,"appId",void 0),m([y({json:{write:!0}})],U.prototype,"authNamespace",void 0),m([y({json:{write:!0}})],U.prototype,"expiration",void 0),m([y({json:{write:!0}})],U.prototype,"flowType",void 0),m([y({json:{write:!0}})],U.prototype,"forceLogin",void 0),m([y({json:{write:!0}})],U.prototype,"forceUserId",void 0),m([y({json:{write:!0}})],U.prototype,"locale",void 0),m([y({json:{write:!0}})],U.prototype,"minTimeUntilExpiration",void 0),m([y({json:{write:!0}})],U.prototype,"popup",void 0),m([y({json:{write:!0}})],U.prototype,"popupCallbackUrl",void 0),m([y({json:{write:!0}})],U.prototype,"popupWindowFeatures",void 0),m([y({json:{write:!0}})],U.prototype,"portalUrl",void 0),m([y({json:{write:!0}})],U.prototype,"preserveUrlHash",void 0),m([y({json:{write:!0}})],U.prototype,"userId",void 0),U=vt=m([ue("esri.identity.OAuthInfo")],U);const ar=U;let R=class extends cr{constructor(e){super(e),this.adminTokenServiceUrl=null,this.currentVersion=null,this.hasPortal=null,this.hasServer=null,this.owningSystemUrl=null,this.owningTenant=null,this.server=null,this.shortLivedTokenValidity=null,this.tokenServiceUrl=null,this.webTierAuth=null}};m([y({json:{write:!0}})],R.prototype,"adminTokenServiceUrl",void 0),m([y({json:{write:!0}})],R.prototype,"currentVersion",void 0),m([y({json:{write:!0}})],R.prototype,"hasPortal",void 0),m([y({json:{write:!0}})],R.prototype,"hasServer",void 0),m([y({json:{write:!0}})],R.prototype,"owningSystemUrl",void 0),m([y({json:{write:!0}})],R.prototype,"owningTenant",void 0),m([y({json:{write:!0}})],R.prototype,"server",void 0),m([y({json:{write:!0}})],R.prototype,"shortLivedTokenValidity",void 0),m([y({json:{write:!0}})],R.prototype,"tokenServiceUrl",void 0),m([y({json:{write:!0}})],R.prototype,"webTierAuth",void 0),R=m([ue("esri.identity.ServerInfo")],R);const et=R,Te={},ss=e=>{const t=new X(e.owningSystemUrl).host,r=new X(e.server).host,s=/.+\.arcgis\.com$/i;return s.test(t)&&s.test(r)},mt=(e,t)=>!!(ss(e)&&t&&t.some(r=>r.test(e.server)));let xe=null,Ue=null;try{xe=window.localStorage,Ue=window.sessionStorage}catch{}class is extends yt{constructor(){super(),this._portalConfig=globalThis.esriGeowConfig,this.serverInfos=[],this.oAuthInfos=[],this.credentials=[],this._soReqs=[],this._xoReqs=[],this._portals=[],this._defaultOAuthInfo=null,this._defaultTokenValidity=60,this.dialog=null,this.tokenValidity=null,this.normalizeWebTierAuth=!1,this._appOrigin=window.origin!=="null"?window.origin:window.location.origin,this._appUrlObj=We(window.location.href),this._busy=null,this._rejectOnPersistedPageShow=!1,this._oAuthLocationParams=null,this._gwTokenUrl="/sharing/rest/generateToken",this._agsRest="/rest/services",this._agsPortal=/\/sharing(\/|$)/i,this._agsAdmin=/(https?:\/\/[^/]+\/[^/]+)\/admin\/?(\/.*)?$/i,this._adminSvcs=/\/rest\/admin\/services(\/|$)/i,this._gwDomains=[{regex:/^https?:\/\/www\.arcgis\.com/i,customBaseUrl:"maps.arcgis.com",tokenServiceUrl:"https://www.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/(?:dev|[a-z\d-]+\.mapsdev)\.arcgis\.com/i,customBaseUrl:"mapsdev.arcgis.com",tokenServiceUrl:"https://dev.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/(?:devext|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,customBaseUrl:"mapsdevext.arcgis.com",tokenServiceUrl:"https://devext.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/(?:qaext|[a-z\d-]+\.mapsqa)\.arcgis\.com/i,customBaseUrl:"mapsqa.arcgis.com",tokenServiceUrl:"https://qaext.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/[a-z\d-]+\.maps\.arcgis\.com/i,customBaseUrl:"maps.arcgis.com",tokenServiceUrl:"https://www.arcgis.com/sharing/rest/generateToken"}],this._legacyFed=[],this._regexSDirUrl=/http.+\/rest\/services\/?/gi,this._regexServerType=/(\/(FeatureServer|GPServer|GeoDataServer|GeocodeServer|GeoenrichmentServer|GeometryServer|GlobeServer|ImageServer|KnowledgeGraphServer|MapServer|MissionServer|MobileServer|NAServer|NetworkDiagramServer|OGCFeatureServer|ParcelFabricServer|RelationalCatalogServer|SceneServer|StreamServer|UtilityNetworkServer|ValidationServer|VectorTileServer|VersionManagementServer|VideoServer)).*/gi,this._gwUser=/http.+\/users\/([^/]+).*/i,this._gwItem=/http.+\/items\/([^/]+).*/i,this._gwGroup=/http.+\/groups\/([^/]+).*/i,this._rePortalTokenSvc=/\/sharing(\/rest)?\/generatetoken/i,this._createDefaultOAuthInfo=!0,this._hasTestedIfAppIsOnPortal=!1,this._getPlatformSelfError=null,this._getOAuthLocationParams(),window.addEventListener("pageshow",t=>{this._pageShowHandler(t)})}registerServers(t){const r=this.serverInfos;r?(t=t.filter(s=>!this.findServerInfo(s.server)),this.serverInfos=r.concat(t)):this.serverInfos=t,t.forEach(s=>{s.owningSystemUrl&&this._portals.push(s.owningSystemUrl),s.hasPortal&&this._portals.push(s.server)})}registerOAuthInfos(t){const r=this.oAuthInfos;if(r){for(const s of t){const i=this.findOAuthInfo(s.portalUrl);i&&r.splice(r.indexOf(i),1)}this.oAuthInfos=r.concat(t)}else this.oAuthInfos=t}registerToken(t){t={...t};const r=this._sanitizeUrl(t.server),s=this._isServerRsrc(r);let i,n=this.findServerInfo(r),o=!0;n||(n=new et,n.server=this._getServerInstanceRoot(r),s?n.hasServer=!0:(n.tokenServiceUrl=this._getTokenSvcUrl(r),n.hasPortal=!0),this.registerServers([n])),i=this._findCredential(r),i?(delete t.server,Object.assign(i,t),o=!1):(i=new k({userId:t.userId,server:n.server??void 0,token:t.token,expires:t.expires,ssl:t.ssl,scope:s?"server":"portal"}),i.resources=[r],this.credentials.push(i)),i.emitTokenChange(!1),o||i.refreshServerTokens()}toJSON(){return ur({serverInfos:this.serverInfos.map(t=>t.toJSON()),oAuthInfos:this.oAuthInfos.map(t=>t.toJSON()),credentials:this.credentials.map(t=>t.toJSON())})}initialize(t){if(!t)return;typeof t=="string"&&(t=JSON.parse(t));const r=t.serverInfos,s=t.oAuthInfos,i=t.credentials;if(r){const n=[];r.forEach(o=>{o.server&&o.tokenServiceUrl&&n.push(o.declaredClass?o:new et(o))}),n.length&&this.registerServers(n)}if(s){const n=[];s.forEach(o=>{o.appId&&n.push(o.declaredClass?o:new ar(o))}),n.length&&this.registerOAuthInfos(n)}i&&i.forEach(n=>{n.server&&n.token&&n.expires&&n.expires>Date.now()&&((n=n.declaredClass?n:new k(n)).emitTokenChange(),this.credentials.push(n))})}findServerInfo(t){let r;t=this._sanitizeUrl(t);for(const s of this.serverInfos)if(this._hasSameServerInstance(s.server,t)){r=s;break}return r}findOAuthInfo(t){let r;t=this._sanitizeUrl(t);for(const s of this.oAuthInfos)if(this._hasSameServerInstance(s.portalUrl,t)){r=s;break}return r}findCredential(t,r){if(!t)return;let s;t=this._sanitizeUrl(t);const i=this._isServerRsrc(t)?"server":"portal";if(r){for(const n of this.credentials)if(this._hasSameServerInstance(n.server,t)&&r===n.userId&&n.scope===i){s=n;break}}else for(const n of this.credentials)if(this._hasSameServerInstance(n.server,t)&&this._getIdenticalSvcIdx(t,n)!==-1&&n.scope===i){s=n;break}return s}getCredential(t,r){let s,i,n=!0;r&&(s=!!r.token,i=r.error,n=r.prompt!==!1),r={...r},t=this._sanitizeUrl(t);const o=new AbortController,a=pe();if(r.signal&&ie(r.signal,()=>{o.abort()}),ie(o,()=>{a.reject(new I("identity-manager:user-aborted","ABORTED"))}),bs(o))return a.promise;r.signal=o.signal;const l=this._isAdminResource(t),c=s?this.findCredential(t):null;let f;if(c&&i&&i.details&&i.details.httpStatus===498)c.destroy();else if(c)return f=new I("identity-manager:not-authorized","You are currently signed in as: '"+c.userId+"'. You do not have access to this resource: "+t,{error:i}),a.reject(f),a.promise;const u=this._findCredential(t,r);if(u)return a.resolve(u),a.promise;let d=this.findServerInfo(t);if(d)!d.hasPortal&&d.server&&d.owningSystemUrl&&this._hasSameServerInstance(d.server,d.owningSystemUrl)&&(d.hasPortal=!0),!d.hasServer&&this._isServerRsrc(t)&&(d._restInfoPms=this._getTokenSvcUrl(t),d.hasServer=!0);else{const h=this._getTokenSvcUrl(t);if(!h)return f=new I("identity-manager:unknown-resource","Unknown resource - could not find token service endpoint."),a.reject(f),a.promise;d=new et,d.server=this._getServerInstanceRoot(t),typeof h=="string"?(d.tokenServiceUrl=h,d.hasPortal=!0):(d._restInfoPms=h,d.hasServer=!0),this.registerServers([d])}return d.hasPortal&&d._selfReq===void 0&&(n||B(d.tokenServiceUrl,this._appOrigin)||this._gwDomains.some(h=>h.tokenServiceUrl===d.tokenServiceUrl))&&(d._selfReq={owningTenant:r==null?void 0:r.owningTenant,selfDfd:this._getPortalSelf(d.tokenServiceUrl.replace(this._rePortalTokenSvc,"/sharing/rest/portals/self"),t)}),this._enqueue(t,d,r,a,l)}getResourceName(t){return this._isRESTService(t)?t.replace(this._regexSDirUrl,"").replace(this._regexServerType,"")||"":this._gwUser.test(t)&&t.replace(this._gwUser,"$1")||this._gwItem.test(t)&&t.replace(this._gwItem,"$1")||this._gwGroup.test(t)&&t.replace(this._gwGroup,"$1")||""}generateToken(t,r,s){const i=this._rePortalTokenSvc.test(t.tokenServiceUrl),n=new X(this._appOrigin),o=t.shortLivedTokenValidity;let a,l,c,f,u,d,h,p;r&&(p=this.tokenValidity||o||this._defaultTokenValidity,p>o&&o>0&&(p=o)),s&&(a=s.isAdmin,l=s.serverUrl,c=s.token,d=s.signal,h=s.ssl,t.customParameters=s.customParameters),a?f=t.adminTokenServiceUrl:(f=t.tokenServiceUrl,u=new X(f.toLowerCase()),t.webTierAuth&&(s!=null&&s.serverUrl)&&!h&&n.scheme==="http"&&(B(n.uri,f,!0)||u.scheme==="https"&&n.host===u.host&&n.port==="7080"&&u.port==="7443")&&(f=f.replace(/^https:/i,"http:").replace(/:7443/i,":7080")));const g={query:{request:"getToken",username:r==null?void 0:r.username,password:r==null?void 0:r.password,serverUrl:l,token:c,expiration:p,referer:a||i?this._appOrigin:null,client:a?"referer":null,f:"json",...t.customParameters},method:"post",authMode:"anonymous",useProxy:this._useProxy(t,s),signal:d,...s==null?void 0:s.ioArgs};return i||(g.withCredentials=!1),F(f,g).then(v=>{const _=v.data;if(!(_!=null&&_.token))return new I("identity-manager:authentication-failed","Unable to generate token");const w=t.server;return Te[w]||(Te[w]={}),r&&(Te[w][r.username]=r.password),_.validity=p,_})}isBusy(){return!!this._busy}async checkSignInStatus(t){return(await this.checkAppAccess(t,"")).credential}checkAppAccess(t,r,s){let i=!1;return this.getCredential(t,{prompt:!1}).then(n=>{let o;const a={f:"json"};if(n.scope==="portal")if(r&&(this._doPortalSignIn(t)||s!=null&&s.force))o=n.server+"/sharing/rest/oauth2/validateAppAccess",a.client_id=r;else{if(!n.token)return{credential:n};o=n.server+"/sharing/rest"}else{if(!n.token)return{credential:n};o=n.server+"/rest/services"}return n.token&&(a.token=n.token),F(o,{query:a,authMode:"anonymous"}).then(l=>{if(l.data.valid===!1)throw new I("identity-manager:not-authorized",`You are currently signed in as: '${n.userId}'.`,l.data);return i=!!l.data.viewOnlyUserTypeApp,{credential:n}}).catch(l=>{var f;if(l.name==="identity-manager:not-authorized")throw l;const c=(f=l.details)==null?void 0:f.httpStatus;if(c===498)throw n.destroy(),new I("identity-manager:not-authenticated","User is not signed in.");if(c===400)throw new I("identity-manager:invalid-request");return{credential:n}})}).then(n=>({credential:n.credential,viewOnly:i}))}setOAuthResponseHash(t){t&&(t.charAt(0)==="#"&&(t=t.slice(1)),this._processOAuthPopupParams(ge(t)))}setOAuthRedirectionHandler(t){this._oAuthRedirectFunc=t}setProtocolErrorHandler(t){this._protocolFunc=t}signIn(t,r,s={}){const i=pe(),n=()=>{var f;l==null||l.remove(),c==null||c.remove(),(f=this.dialog)==null||f.destroy(),this.dialog=l=c=null},o=()=>{n(),this._oAuthDfd=null,i.reject(new I("identity-manager:user-aborted","ABORTED"))};s.signal&&ie(s.signal,()=>{o()});const a=new or({open:!0,resource:this.getResourceName(t),server:r.server});this.dialog=a,this.emit("dialog-create");let l=a.on("cancel",o),c=a.on("submit",f=>{this.generateToken(r,f,{isAdmin:s.isAdmin,signal:s.signal}).then(u=>{n();const d=new k({userId:f.username,server:r.server??void 0,token:u.token,expires:u.expires!=null?Number(u.expires):null,ssl:!!u.ssl,isAdmin:s.isAdmin,validity:u.validity});i.resolve(d)}).catch(u=>{a.error=u,a.signingIn=!1})});return i.promise}oAuthSignIn(t,r,s,i){this._oAuthDfd=pe();const n=this._oAuthDfd;let o;i!=null&&i.signal&&ie(i.signal,()=>{const d=this._oAuthDfd&&this._oAuthDfd.oAuthWin_;d&&!d.closed?d.close():this.dialog&&f()}),n.resUrl_=t,n.sinfo_=r,n.oinfo_=s;const a=s._oAuthCred;if(a.storage&&(s.flowType==="authorization-code"||s.flowType==="auto"&&r.currentVersion>=8.4)){let d=crypto.getRandomValues(new Uint8Array(32));o=Ge(d),a.codeVerifier=o,d=crypto.getRandomValues(new Uint8Array(32)),a.stateUID=Ge(d),a.save()||(a.codeVerifier=o=null)}else a.codeVerifier=null;let l,c;this._getCodeChallenge(o).then(d=>{const h=!i||i.oAuthPopupConfirmation!==!1;if(!s.popup||!h)return void this._doOAuthSignIn(t,r,s,d);const p=new or({oAuthPrompt:!0,server:r.server,open:!0});this.dialog=p,this.emit("dialog-create"),l=p.on("cancel",f),c=p.on("submit",()=>{u(),this._doOAuthSignIn(t,r,s,d)})});const f=()=>{u(),this._oAuthDfd=null,n.reject(new I("identity-manager:user-aborted","ABORTED"))},u=()=>{var d;l==null||l.remove(),c==null||c.remove(),(d=this.dialog)==null||d.destroy(),this.dialog=null};return n.promise}destroyCredentials(){this.credentials&&this.credentials.slice().forEach(t=>{t.destroy()}),this.emit("credentials-destroy")}enablePostMessageAuth(t="https://www.arcgis.com/sharing/rest"){this._postMessageAuthHandle&&this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=Ae(window,"message",r=>{var s;if((r.origin===this._appOrigin||r.origin.endsWith(".arcgis.com"))&&((s=r.data)==null?void 0:s.type)==="arcgis:auth:requestCredential"){const i=r.source;this.getCredential(t).then(n=>{i.postMessage({type:"arcgis:auth:credential",credential:{expires:n.expires,server:n.server,ssl:n.ssl,token:n.token,userId:n.userId}},r.origin)}).catch(n=>{i.postMessage({type:"arcgis:auth:error",error:{name:n.name,message:n.message}},r.origin)})}})}disablePostMessageAuth(){this._postMessageAuthHandle&&(this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=null)}_getOAuthLocationParams(){var s,i;let t=window.location.hash;if(t){t.charAt(0)==="#"&&(t=t.slice(1));const n=ge(t);let o=!1;if(n.access_token&&n.expires_in&&n.state&&n.hasOwnProperty("username"))try{n.state=JSON.parse(n.state),n.state.portalUrl&&(this._oAuthLocationParams=n,o=!0)}catch{}else if(n.error&&n.error_description&&(console.log("IdentityManager OAuth Error: ",n.error," - ",n.error_description),n.error==="access_denied"&&(o=!0,n.state)))try{n.state=JSON.parse(n.state)}catch{}o&&(window.location.hash=((s=n.state)==null?void 0:s.hash)||"")}let r=window.location.search;if(r){r.charAt(0)==="?"&&(r=r.slice(1));const n=ge(r);let o=!1;if(n.code&&n.state)try{n.state=JSON.parse(n.state),n.state.portalUrl&&n.state.uid&&(this._oAuthLocationParams=n,o=!0)}catch{}else if(n.error&&n.error_description&&(console.log("IdentityManager OAuth Error: ",n.error," - ",n.error_description),n.error==="access_denied"&&(o=!0,n.state)))try{n.state=JSON.parse(n.state)}catch{}if(o){const a={...n};["code","error","error_description","message_code","persist","state"].forEach(f=>{delete a[f]});const l=Et(a),c=window.location.pathname+(l?`?${l}`:"")+(((i=n.state)==null?void 0:i.hash)||"");window.history.replaceState(window.history.state,"",c)}}}_getOAuthToken(t,r,s,i,n){return t=t.replace(/^http:/i,"https:"),F(`${t}/sharing/rest/oauth2/token`,{authMode:"anonymous",method:"post",query:i&&n?{grant_type:"authorization_code",code:r,redirect_uri:i,client_id:s,code_verifier:n}:{grant_type:"refresh_token",refresh_token:r,client_id:s}}).then(o=>o.data)}async _getCodeChallenge(t){if(t&&globalThis.isSecureContext){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r);return Ge(new Uint8Array(s))}return null}_pageShowHandler(t){if(t.persisted&&this.isBusy()&&this._rejectOnPersistedPageShow){const r=new I("identity-manager:user-aborted","ABORTED");this._errbackFunc(r)}}_findCredential(t,r){let s,i,n,o,a=-1;const l=r==null?void 0:r.token,c=r==null?void 0:r.resource,f=this._isServerRsrc(t)?"server":"portal",u=this.credentials.filter(d=>this._hasSameServerInstance(d.server,t)&&d.scope===f);if(t=c||t,u.length)if(u.length===1){if(s=u[0],n=this.findServerInfo(s.server),i=n==null?void 0:n.owningSystemUrl,o=i?this.findCredential(i,s.userId):void 0,a=this._getIdenticalSvcIdx(t,s),!l)return a===-1&&s.resources.push(t),this._addResource(t,o),s;a!==-1&&(s.resources.splice(a,1),this._removeResource(t,o))}else{let d,h;if(u.some(p=>(h=this._getIdenticalSvcIdx(t,p),h!==-1&&(d=p,n=this.findServerInfo(d.server),i=n==null?void 0:n.owningSystemUrl,o=i?this.findCredential(i,d.userId):void 0,a=h,!0))),l)d&&(d.resources.splice(a,1),this._removeResource(t,o));else if(d)return this._addResource(t,o),d}}_findOAuthInfo(t){let r=this.findOAuthInfo(t);if(!r){for(const s of this.oAuthInfos)if(this._isIdProvider(s.portalUrl,t)){r=s;break}}return r}_addResource(t,r){r&&this._getIdenticalSvcIdx(t,r)===-1&&r.resources.push(t)}_removeResource(t,r){let s=-1;r&&(s=this._getIdenticalSvcIdx(t,r),s>-1&&r.resources.splice(s,1))}_useProxy(t,r){return(r==null?void 0:r.isAdmin)&&!B(t.adminTokenServiceUrl,this._appOrigin)||!this._isPortalDomain(t.tokenServiceUrl)&&String(t.currentVersion)==="10.1"&&!B(t.tokenServiceUrl,this._appOrigin)}_getOrigin(t){const r=new X(t);return r.scheme+"://"+r.host+(r.port!=null?":"+r.port:"")}_getServerInstanceRoot(t){const r=t.toLowerCase();let s=r.indexOf(this._agsRest);return s===-1&&this._isAdminResource(t)&&(s=this._agsAdmin.test(t)?t.replace(this._agsAdmin,"$1").length:t.search(this._adminSvcs)),s!==-1||ks(r)||(s=r.indexOf("/sharing")),s===-1&&r.endsWith("/")&&(s=r.length-1),s>-1?t.slice(0,s):t}_hasSameServerInstance(t,r){return t.endsWith("/")&&(t=t.slice(0,-1)),t=t.toLowerCase(),r=this._getServerInstanceRoot(r).toLowerCase(),t=Rt(t),r=Rt(r),(t=t.slice(Math.max(0,t.indexOf(":"))))===(r=r.slice(Math.max(0,r.indexOf(":"))))}_sanitizeUrl(t){const r=(Ve.request.proxyUrl||"").toLowerCase(),s=r?t.toLowerCase().indexOf(r+"?"):-1;return s!==-1&&(t=t.slice(s+r.length+1)),t=As(t),We(t).path}_isRESTService(t){return t.includes(this._agsRest)}_isAdminResource(t){return this._agsAdmin.test(t)||this._adminSvcs.test(t)}_isServerRsrc(t){return this._isRESTService(t)||this._isAdminResource(t)}_isIdenticalService(t,r){let s=!1;if(this._isRESTService(t)&&this._isRESTService(r)){const i=this._getSuffix(t).toLowerCase(),n=this._getSuffix(r).toLowerCase();if(s=i===n,!s){const o=/(.*)\/(MapServer|FeatureServer|UtilityNetworkServer).*/gi;s=i.replaceAll(o,"$1")===n.replaceAll(o,"$1")}}else this._isAdminResource(t)&&this._isAdminResource(r)?s=!0:this._isServerRsrc(t)||this._isServerRsrc(r)||!this._isPortalDomain(t)||(s=!0);return s}_isPortalDomain(t){const r=new X(t.toLowerCase()),s=this._portalConfig;let i=this._gwDomains.some(n=>n.regex.test(r.uri));return!i&&s&&(i=this._hasSameServerInstance(this._getServerInstanceRoot(s.restBaseUrl),r.uri)),i||Ve.portalUrl&&(i=B(r,Ve.portalUrl,!0)),i||(i=this._portals.some(n=>this._hasSameServerInstance(n,r.uri))),i=i||this._agsPortal.test(r.path),i}_isIdProvider(t,r){let s=-1,i=-1;this._gwDomains.forEach((o,a)=>{s===-1&&o.regex.test(t)&&(s=a),i===-1&&o.regex.test(r)&&(i=a)});let n=!1;if(s>-1&&i>-1&&(s===0||s===4?i!==0&&i!==4||(n=!0):s===1?i!==1&&i!==2||(n=!0):s===2?i===2&&(n=!0):s===3&&i===3&&(n=!0)),!n){const o=this.findServerInfo(r),a=o==null?void 0:o.owningSystemUrl;a&&ss(o)&&this._isPortalDomain(a)&&this._isIdProvider(t,a)&&(n=!0)}return n}_getIdenticalSvcIdx(t,r){let s=-1;for(let i=0;i<r.resources.length;i++){const n=r.resources[i];if(this._isIdenticalService(t,n)){s=i;break}}return s}_getSuffix(t){return t.replace(this._regexSDirUrl,"").replace(this._regexServerType,"$1")}_getTokenSvcUrl(t){let r,s,i;if(this._isRESTService(t)||this._isAdminResource(t)){const n=this._getServerInstanceRoot(t);return r=n+"/admin/generateToken",s=F(t=n+"/rest/info",{query:{f:"json"}}).then(o=>o.data),{adminUrl:r,promise:s}}if(this._isPortalDomain(t)){let n="";if(this._gwDomains.some(o=>(o.regex.test(t)&&(n=o.tokenServiceUrl),!!n)),n||this._portals.some(o=>(this._hasSameServerInstance(o,t)&&(n=o+this._gwTokenUrl),!!n)),n||(i=t.toLowerCase().indexOf("/sharing"),i!==-1&&(n=t.slice(0,i)+this._gwTokenUrl)),n||(n=this._getOrigin(t)+this._gwTokenUrl),n){const o=new X(t).port;/^http:\/\//i.test(t)&&o==="7080"&&(n=n.replace(/:7080/i,":7443")),n=n.replace(/http:/i,"https:")}return n}}_processOAuthResponseParams(t,r,s){const i=r._oAuthCred;if(t.code){const o=i.codeVerifier;return i.codeVerifier=null,i.stateUID=null,i.save(),this._getOAuthToken(s.server,t.code,r.appId,this._getRedirectURI(r,!0),o).then(a=>{const l=new k({userId:a.username,server:s.server??void 0,token:a.access_token,expires:Date.now()+1e3*a.expires_in,ssl:a.ssl,oAuthState:t.state,_oAuthCred:i});return r.userId=l.userId,i.storage=a.persist?xe:Ue,i.refreshToken=a.refresh_token,i.token=null,i.expires=a.refresh_token_expires_in?Date.now()+1e3*a.refresh_token_expires_in:null,i.userId=l.userId,i.ssl=l.ssl,i.save(),l})}const n=new k({userId:t.username,server:s.server??void 0,token:t.access_token,expires:Date.now()+1e3*Number(t.expires_in),ssl:t.ssl==="true",oAuthState:t.state,_oAuthCred:i});return r.userId=n.userId,i.storage=t.persist?xe:Ue,i.refreshToken=null,i.token=n.token,i.expires=n.expires,i.userId=n.userId,i.ssl=n.ssl,i.save(),Promise.resolve(n)}_processOAuthPopupParams(t){var s;const r=this._oAuthDfd;if(this._oAuthDfd=null,r)if(clearInterval(this._oAuthIntervalId),(s=this._oAuthOnPopupHandle)==null||s.remove(),t.error){const i=t.error==="access_denied",n=new I(i?"identity-manager:user-aborted":"identity-manager:authentication-failed",i?"ABORTED":"OAuth: "+t.error+" - "+t.error_description);r.reject(n)}else this._processOAuthResponseParams(t,r.oinfo_,r.sinfo_).then(i=>{r.resolve(i)}).catch(i=>{r.reject(i)})}_setOAuthResponseQueryString(t){t&&(t.charAt(0)==="?"&&(t=t.slice(1)),this._processOAuthPopupParams(ge(t)))}async _exchangeToken(t,r,s){return(await F(`${t}/sharing/rest/oauth2/exchangeToken`,{authMode:"anonymous",method:"post",query:{f:"json",client_id:r,token:s}})).data.token}async _getPlatformSelf(t,r){var s;if(this._getPlatformSelfError&&Date.now()-this._getPlatformSelfError[1]<1e3)throw this._getPlatformSelfError[0];t=t.replace(/^http:/i,"https:");try{const i=await F(`${t}/sharing/rest/oauth2/platformSelf`,{authMode:"anonymous",headers:{"X-Esri-Auth-Client-Id":r,"X-Esri-Auth-Redirect-Uri":window.location.href.replace(/#.*$/,"")},method:"post",query:{f:"json",expiration:30},withCredentials:!0});return this._getPlatformSelfError=null,i.data}catch(i){throw((s=i.details)==null?void 0:s.messageCode)==="OAUTH_0066"&&(this._getPlatformSelfError=[i,Date.now()]),i}}_getPortalSelf(t,r){let s;return this._gwDomains.some(i=>(i.regex.test(t)&&(s=i.customBaseUrl),!!s)),s?Promise.resolve({allSSL:!0,currentVersion:"8.4",customBaseUrl:s,portalMode:"multitenant",supportsOAuth:!0}):(this._appOrigin.startsWith("https:")?t=t.replace(/^http:/i,"https:").replace(/:7080/i,":7443"):/^http:/i.test(r)&&(t=t.replace(/^https:/i,"http:").replace(/:7443/i,":7080")),F(t,{query:{f:"json"},authMode:"anonymous",withCredentials:!0}).then(i=>i.data))}_doPortalSignIn(t){const r=this._portalConfig,s=window.location.href,i=this.findServerInfo(t);return!(!r&&!this._isPortalDomain(s)||!(i?i.hasPortal||i.owningSystemUrl&&this._isPortalDomain(i.owningSystemUrl):this._isPortalDomain(t))||!(this._isIdProvider(s,t)||r&&(this._hasSameServerInstance(this._getServerInstanceRoot(r.restBaseUrl),t)||this._isIdProvider(r.restBaseUrl,t))||B(s,t,!0)))}_checkProtocol(t,r,s,i){let n=!0;const o=i?r.adminTokenServiceUrl:r.tokenServiceUrl;return o.trim().toLowerCase().startsWith("https:")&&!this._appOrigin.startsWith("https:")&&Is(o)&&(n=!!this._protocolFunc&&!!this._protocolFunc({resourceUrl:t,serverInfo:r}),!n)&&s(new I("identity-manager:aborted","Aborted the Sign-In process to avoid sending password over insecure connection.")),n}_enqueue(t,r,s,i,n,o){return i||(i=pe()),i.resUrl_=t,i.sinfo_=r,i.options_=s,i.admin_=n,i.refresh_=o,this._busy?this._hasSameServerInstance(this._getServerInstanceRoot(t),this._busy.resUrl_)?(this._oAuthDfd&&this._oAuthDfd.oAuthWin_&&this._oAuthDfd.oAuthWin_.focus(),this._soReqs.push(i)):this._xoReqs.push(i):this._doSignIn(i),i.promise}_doSignIn(t){this._busy=t,this._rejectOnPersistedPageShow=!1;const r=c=>{var v;const f=(v=t.options_)==null?void 0:v.resource,u=t.resUrl_,d=t.refresh_;let h=!1;this.credentials.includes(c)||(d&&this.credentials.includes(d)?(d.userId=c.userId,d.token=c.token,d.expires=c.expires,d.validity=c.validity,d.ssl=c.ssl,d.creationTime=c.creationTime,h=!0,c=d):this.credentials.push(c)),c.resources||(c.resources=[]),c.resources.includes(f||u)||c.resources.push(f||u),c.scope=this._isServerRsrc(u)?"server":"portal",c.emitTokenChange();const p=this._soReqs,g={};this._soReqs=[],p.forEach(_=>{if(!this._isIdenticalService(u,_.resUrl_)){const w=this._getSuffix(_.resUrl_);g[w]||(g[w]=!0,c.resources.push(_.resUrl_))}}),t.resolve(c),p.forEach(_=>{this._hasSameServerInstance(this._getServerInstanceRoot(u),_.resUrl_)?_.resolve(c):this._soReqs.push(_)}),this._busy=t.resUrl_=t.sinfo_=t.refresh_=null,h||this.emit("credential-create",{credential:c}),this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},s=c=>{t.reject(c),this._busy=t.resUrl_=t.sinfo_=t.refresh_=null,this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},i=(c,f,u,d)=>{var w,P,K;const h=t.sinfo_,p=!t.options_||t.options_.prompt!==!1,g=h.hasPortal&&this._findOAuthInfo(t.resUrl_);let v,_;if(c)r(new k({userId:c,server:h.server??void 0,token:u??void 0,expires:d!=null?Number(d):null,ssl:!!f}));else if(window!==window.parent&&((w=this._appUrlObj.query)!=null&&w["arcgis-auth-origin"])&&((P=this._appUrlObj.query)!=null&&P["arcgis-auth-portal"])&&this._hasSameServerInstance(this._getServerInstanceRoot(this._appUrlObj.query["arcgis-auth-portal"]),t.resUrl_)){window.parent.postMessage({type:"arcgis:auth:requestCredential"},this._appUrlObj.query["arcgis-auth-origin"]);const b=Ae(window,"message",S=>{S.source===window.parent&&S.data&&(S.data.type==="arcgis:auth:credential"?(b.remove(),S.data.credential.expires<Date.now()?s(new I("identity-manager:credential-request-failed","Parent application's token has expired.")):r(new k(S.data.credential))):S.data.type==="arcgis:auth:error"&&(b.remove(),S.data.error.name==="tokenExpiredError"?s(new I("identity-manager:credential-request-failed","Parent application's token has expired.")):s(I.fromJSON(S.data.error))))});ie((K=t.options_)==null?void 0:K.signal,()=>{b.remove()})}else if(g){let b=g._oAuthCred;if(!b){const S=new gt(g,xe),$=new gt(g,Ue);S.isValid()&&$.isValid()?S.expires>$.expires?(b=S,$.destroy()):(b=$,S.destroy()):b=S.isValid()?S:$,g._oAuthCred=b}if(b.isValid()){v=new k({userId:b.userId??void 0,server:h.server??void 0,token:b.token??void 0,expires:b.expires,ssl:b.ssl??void 0,_oAuthCred:b});const S=g.appId!==b.appId&&this._doPortalSignIn(t.resUrl_);S||b.refreshToken?(t._pendingDfd=b.refreshToken?this._getOAuthToken(h.server,b.refreshToken,b.appId).then($=>(v.expires=Date.now()+1e3*$.expires_in,v.token=$.access_token,v)):Promise.resolve(v),t._pendingDfd.then($=>S?this._exchangeToken($.server,g.appId,$.token).then(O=>($.token=O,$)).catch(()=>$):$).then($=>{r($)}).catch($=>{var z;const O=(z=$.details)==null?void 0:z.httpStatus;O>0&&O!==404?(b.destroy(),i()):s($)})):r(v)}else if(this._oAuthLocationParams&&this._hasSameServerInstance(g.portalUrl,this._oAuthLocationParams.state.portalUrl)&&(this._oAuthLocationParams.access_token||this._oAuthLocationParams.code&&this._oAuthLocationParams.state.uid===b.stateUID&&b.codeVerifier)){const S=this._oAuthLocationParams;this._oAuthLocationParams=null,t._pendingDfd=this._processOAuthResponseParams(S,g,h).then($=>{r($)}).catch(s)}else{const S=()=>{p?t._pendingDfd=this.oAuthSignIn(t.resUrl_,h,g,t.options_).then(r,s):(_=new I("identity-manager:not-authenticated","User is not signed in."),s(_))};this._doPortalSignIn(t.resUrl_)?t._pendingDfd=this._getPlatformSelf(h.server,g.appId).then($=>{B($.portalUrl,this._appOrigin,!0)?(v=new k({userId:$.username,server:h.server??void 0,expires:Date.now()+1e3*$.expires_in,token:$.token}),r(v)):S()}).catch(S):S()}}else if(p){if(this._checkProtocol(t.resUrl_,h,s,t.admin_)){let b=t.options_;t.admin_&&(b=b||{},b.isAdmin=!0),t._pendingDfd=this.signIn(t.resUrl_,h,b).then(r,s)}}else _=new I("identity-manager:not-authenticated","User is not signed in."),s(_)},n=()=>{const c=t.sinfo_,f=c.owningSystemUrl,u=t.options_;let d,h,p,g;if(u&&(d=u.token,h=u.error,p=u.prompt),g=this._findCredential(f,{token:d,resource:t.resUrl_}),!g){for(const v of this.credentials)if(this._isIdProvider(f,v.server)){g=v;break}}if(g){const v=this.findCredential(t.resUrl_,g.userId);if(v)r(v);else if(mt(c,this._legacyFed)){const _=g.toJSON();_.server=c.server,_.resources=null,r(new k(_))}else(t._pendingDfd=this.generateToken(this.findServerInfo(g.server),null,{serverUrl:t.resUrl_,token:g.token,signal:t.options_.signal,ssl:g.ssl})).then(_=>{r(new k({userId:g==null?void 0:g.userId,server:c.server??void 0,token:_.token,expires:_.expires!=null?Number(_.expires):null,ssl:!!_.ssl,isAdmin:t.admin_,validity:_.validity}))},s)}else this._busy=null,d&&(t.options_.token=null),(t._pendingDfd=this.getCredential(f.replace(/\/?$/,"/sharing"),{resource:t.resUrl_,owningTenant:c.owningTenant,signal:t.options_.signal,token:d,error:h,prompt:p})).then(()=>{this._enqueue(t.resUrl_,t.sinfo_,t.options_,t,t.admin_)},v=>{t.resUrl_=t.sinfo_=t.refresh_=null,t.reject(v)})};this._errbackFunc=s;const o=t.sinfo_.owningSystemUrl,a=this._isServerRsrc(t.resUrl_),l=t.sinfo_._restInfoPms;l?l.promise.then(c=>{const f=t.sinfo_;if(f._restInfoPms){f.adminTokenServiceUrl=f._restInfoPms.adminUrl,f._restInfoPms=null,f.tokenServiceUrl=(oe("authInfo.tokenServicesUrl",c)||oe("authInfo.tokenServiceUrl",c)||oe("tokenServiceUrl",c))??null,f.shortLivedTokenValidity=oe("authInfo.shortLivedTokenValidity",c)??null,f.currentVersion=c.currentVersion,f.owningTenant=c.owningTenant;const u=f.owningSystemUrl=c.owningSystemUrl;u&&this._portals.push(u)}a&&f.owningSystemUrl?n():i()},()=>{t.sinfo_._restInfoPms=null;const c=new I("identity-manager:server-identification-failed","Unknown resource - could not find token service endpoint.");s(c)}):a&&o?n():t.sinfo_._selfReq?t.sinfo_._selfReq.selfDfd.then(c=>{var g;const f={};let u,d,h,p;return c&&(u=(g=c.user)==null?void 0:g.username,f.username=u,f.allSSL=c.allSSL,d=c.supportsOAuth,p=parseFloat(c.currentVersion),c.portalMode==="multitenant"&&(h=c.customBaseUrl),t.sinfo_.currentVersion=p),t.sinfo_.webTierAuth=!!u,u&&this.normalizeWebTierAuth?this.generateToken(t.sinfo_,null,{ssl:f.allSSL}).catch(()=>null).then(v=>(f.portalToken=v==null?void 0:v.token,f.tokenExpiration=v==null?void 0:v.expires,f)):!u&&d&&p>=4.4&&!this._findOAuthInfo(t.resUrl_)?this._generateOAuthInfo({portalUrl:t.sinfo_.server,customBaseUrl:h,owningTenant:t.sinfo_._selfReq.owningTenant}).catch(()=>null).then(()=>f):f}).catch(()=>null).then(c=>{t.sinfo_._selfReq=null,c?i(c.username,c.allSSL,c.portalToken,c.tokenExpiration):i()}):i()}_generateOAuthInfo(t){let r,s=null,i=t.portalUrl;const n=t.customBaseUrl,o=t.owningTenant,a=!this._defaultOAuthInfo&&this._createDefaultOAuthInfo&&!this._hasTestedIfAppIsOnPortal;if(a){s=window.location.href;let l=s.indexOf("?");l>-1&&(s=s.slice(0,l)),l=s.search(/\/(apps|home)\//),s=l>-1?s.slice(0,l):null}return a&&s?(this._hasTestedIfAppIsOnPortal=!0,r=F(s+"/sharing/rest",{query:{f:"json"}}).then(()=>{this._defaultOAuthInfo=new ar({appId:"arcgisonline",popupCallbackUrl:s+"/home/oauth-callback.html"})})):r=Promise.resolve(),r.then(()=>{if(this._defaultOAuthInfo)return i=i.replace(/^http:/i,"https:"),F(i+"/sharing/rest/oauth2/validateRedirectUri",{query:{accountId:o,client_id:this._defaultOAuthInfo.appId,redirect_uri:st(this._defaultOAuthInfo.popupCallbackUrl),f:"json"}}).then(l=>{if(l.data.valid){const c=this._defaultOAuthInfo.clone();l.data.urlKey&&n?c.portalUrl="https://"+l.data.urlKey.toLowerCase()+"."+n:c.portalUrl=i,c.popup=window!==window.top||!(B(i,this._appOrigin)||this._gwDomains.some(f=>f.regex.test(i)&&f.regex.test(this._appOrigin))),this.oAuthInfos.push(c)}})})}_doOAuthSignIn(t,r,s,i){const n=s._oAuthCred,o={portalUrl:s.portalUrl};!s.popup&&s.preserveUrlHash&&window.location.hash&&(o.hash=window.location.hash),n.stateUID&&(o.uid=n.stateUID);const a={client_id:s.appId,response_type:n.codeVerifier?"code":"token",state:JSON.stringify(o),expiration:s.expiration,locale:s.locale,redirect_uri:this._getRedirectURI(s,!!n.codeVerifier)};s.forceLogin&&(a.force_login=!0),s.forceUserId&&s.userId&&(a.prepopulatedusername=s.userId),!s.popup&&this._doPortalSignIn(t)&&(a.redirectToUserOrgUrl=!0),n.codeVerifier&&(a.code_challenge=i||n.codeVerifier,a.code_challenge_method=i?"S256":"plain");const l=s.portalUrl.replace(/^http:/i,"https:")+"/sharing/oauth2/authorize",c=l+"?"+Et(a);if(s.popup){const f=window.open(c,"esriJSAPIOAuth",s.popupWindowFeatures);if(f)f.focus(),this._oAuthDfd.oAuthWin_=f,this._oAuthIntervalId=setInterval(()=>{if(f.closed){clearInterval(this._oAuthIntervalId),this._oAuthOnPopupHandle.remove();const u=this._oAuthDfd;if(u){const d=new I("identity-manager:user-aborted","ABORTED");u.reject(d)}}},500),this._oAuthOnPopupHandle=Ae(window,["arcgis:auth:hash","arcgis:auth:location:search"],u=>{u.type==="arcgis:auth:hash"?this.setOAuthResponseHash(u.detail):this._setOAuthResponseQueryString(u.detail)});else{const u=new I("identity-manager:popup-blocked","ABORTED");this._oAuthDfd.reject(u)}}else this._rejectOnPersistedPageShow=!0,this._oAuthRedirectFunc?this._oAuthRedirectFunc({authorizeParams:a,authorizeUrl:l,resourceUrl:t,serverInfo:r,oAuthInfo:s}):window.location.href=c}_getRedirectURI(t,r){const s=window.location.href.replace(/#.*$/,"");if(t.popup)return st(t.popupCallbackUrl);if(r){const i=We(s);return i.query&&["code","error","error_description","message_code","persist","state"].forEach(n=>{delete i.query[n]}),Ts(i.path,i.query)}return s}}is.prototype.declaredClass="esri.identity.IdentityManagerBase";let k=class extends yt.EventedAccessor{constructor(e){super(e),this._oAuthCred=null,this.tokenRefreshBuffer=2,e!=null&&e._oAuthCred&&(this._oAuthCred=e._oAuthCred)}initialize(){this.resources=this.resources||[],this.creationTime==null&&(this.creationTime=Date.now())}refreshToken(){const e=ve,t=e.findServerInfo(this.server),r=t==null?void 0:t.owningSystemUrl,s=!!r&&this.scope==="server",i=s&&mt(t,e._legacyFed),n=t.webTierAuth,o=n&&e.normalizeWebTierAuth,a=Te[this.server],l=a==null?void 0:a[this.userId];let c,f=this.resources&&this.resources[0],u=s?e.findServerInfo(r):null,d={username:this.userId,password:l};if(n&&!o)return;s&&!u&&e.serverInfos.some(p=>(e._isIdProvider(r,p.server)&&(u=p),!!u));const h=u?e.findCredential(u.server,this.userId):null;if(!s||h){if(!i){if(s)c={serverUrl:f,token:h==null?void 0:h.token,ssl:h==null?void 0:h.ssl};else if(o)d=null,c={ssl:this.ssl};else{if(!l){let p;return f&&(f=e._sanitizeUrl(f),this._enqueued=1,p=e._enqueue(f,t,null,null,this.isAdmin,this),p.then(()=>{this._enqueued=0,this.refreshServerTokens()}).catch(()=>{this._enqueued=0})),p}this.isAdmin&&(c={isAdmin:!0})}return e.generateToken(s?u:t,s?null:d,c).then(p=>{this.token=p.token,this.expires=p.expires!=null?Number(p.expires):null,this.creationTime=Date.now(),this.validity=p.validity,this.emitTokenChange(),this.refreshServerTokens()}).catch(()=>{})}h==null||h.refreshToken()}}refreshServerTokens(){if(this.scope==="portal"){const e=ve;e.credentials.forEach(t=>{const r=e.findServerInfo(t.server),s=r==null?void 0:r.owningSystemUrl;t!==this&&t.userId===this.userId&&s&&t.scope==="server"&&(e._hasSameServerInstance(this.server,s)||e._isIdProvider(s,this.server))&&(mt(r,e._legacyFed)?(t.token=this.token,t.expires=this.expires,t.creationTime=this.creationTime,t.validity=this.validity,t.emitTokenChange()):t.refreshToken())})}}emitTokenChange(e){clearTimeout(this._refreshTimer);const t=ve,r=this.server?t.findServerInfo(this.server):null,s=r==null?void 0:r.owningSystemUrl,i=s?t.findServerInfo(s):null;e===!1||s&&this.scope!=="portal"&&(!(i!=null&&i.webTierAuth)||t.normalizeWebTierAuth)||this.expires==null&&this.validity==null||this._startRefreshTimer(),this.emit("token-change")}destroy(){this.userId=this.server=this.token=this.expires=this.validity=this.resources=this.creationTime=null,this._oAuthCred&&(this._oAuthCred.destroy(),this._oAuthCred=null);const e=ve,t=e.credentials.indexOf(this);t>-1&&e.credentials.splice(t,1),this.emitTokenChange(),this.emit("destroy")}toJSON(){const e=ur({userId:this.userId,server:this.server,token:this.token,expires:this.expires,validity:this.validity,ssl:this.ssl,isAdmin:this.isAdmin,creationTime:this.creationTime,scope:this.scope}),t=this.resources;return t&&t.length>0&&(e.resources=t.slice()),e}_startRefreshTimer(){clearTimeout(this._refreshTimer);const e=6e4*this.tokenRefreshBuffer,t=2**31-1;let r=(this.validity?this.creationTime+6e4*this.validity:this.expires)-Date.now();r<0?r=0:r>t&&(r=t),this._refreshTimer=setTimeout(this.refreshToken.bind(this),r>e?r-e:r)}};m([y()],k.prototype,"creationTime",void 0),m([y()],k.prototype,"expires",void 0),m([y()],k.prototype,"isAdmin",void 0),m([y()],k.prototype,"oAuthState",void 0),m([y()],k.prototype,"resources",void 0),m([y()],k.prototype,"scope",void 0),m([y()],k.prototype,"server",void 0),m([y()],k.prototype,"ssl",void 0),m([y()],k.prototype,"token",void 0),m([y()],k.prototype,"tokenRefreshBuffer",void 0),m([y()],k.prototype,"userId",void 0),m([y()],k.prototype,"validity",void 0),k=m([ue("esri.identity.Credential")],k);class ns extends is{}ns.prototype.declaredClass="esri.identity.IdentityManager";const os=new ns;xs(os);const Uo=Object.freeze(Object.defineProperty({__proto__:null,default:os},Symbol.toStringTag,{value:"Module"}));export{$o as C,wo as D,To as F,So as H,Uo as I,vn as a,xo as b,ko as c,Ao as f,on as g,Dr as h,Qn as i,Io as p,bo as r};
