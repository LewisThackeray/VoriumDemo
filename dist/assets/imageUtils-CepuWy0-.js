const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gif-L-SEMyiy.js","assets/time-ClENgjgA.js","assets/apng-CrfAk9RO.js","assets/_commonjsHelpers-DCkdB7M8.js","assets/index-DMwY2Yeh.js","assets/index-DGW5n9KZ.css"])))=>i.map(i=>d[i]);
import{_ as s,bN as d,cl as m,U as f,a5 as p,s as w}from"./index-DMwY2Yeh.js";let i=null,u=!0;function T(n,a,t,e){if(!a||!t)throw new Error("Cannot construct image data without dimensions");if(u)try{return new ImageData(n,a,t)}catch{u=!1}const r=g(a,t,e);return r.data.set(n,0),r}function y(){return i||(i=document.createElement("canvas"),i.width=1,i.height=1),i}function g(n,a,t){return t||(t=y()),t.getContext("2d").createImageData(n,a)}async function _(n,a){const t=window.URL.createObjectURL(n);try{const{data:e}=await f(t,{...a,responseType:"image"});return e}catch(e){throw p(e)?e:new w("invalid-image",`Could not fetch requested image at ${t}`)}finally{window.URL.revokeObjectURL(t)}}async function b(n,a){const{arrayBuffer:t,mediaType:e}=await l(n,a),r=e==="image/png";if(e==="image/gif"){const{isAnimatedGIF:o,parseGif:c}=await s(()=>import("./gif-L-SEMyiy.js"),__vite__mapDeps([0,1]));if(o(t))return c(t,a)}if(r){const{isAnimatedPNG:o,parseApng:c}=await s(()=>import("./apng-CrfAk9RO.js"),__vite__mapDeps([2,3,4,5,1]));if(o(t))return c(t,a)}return _(new Blob([t],{type:e}),a)}async function l(n,a){var r;const t=d(n);if(t!=null&&t.isBase64)return{arrayBuffer:m(t.data),mediaType:t.mediaType};const e=await f(n,{responseType:"array-buffer",...a});return{arrayBuffer:e.data,mediaType:((r=e.getHeader)==null?void 0:r.call(e,"Content-Type"))??""}}export{T as c,b as p};
